"use strict";(self.webpackJsonp=self.webpackJsonp||[]).push([[6042],{"6042":function(e,t,n){n.r(t),n.d(t,{"default":function(){return $}});var o=n(7690),i=n(4343),Z=n(9164),b=n(10),k=n(2922),S=function ExpressInfoTop(e){var t=e.code,n=(0,Z.le)(t),o=n.info,S=n.detail,C=(0,b.Z)(o,"packageList[0].contractGoodsList[0].dataPic"),$=(0,b.Z)(o,"packageList.length"),G=(0,b.Z)(o,"packageList[0].expressName"),R=(0,b.Z)(o,"packageList[0].packageBillno"),T=(0,b.Z)(S,"result");return(0,k.jsxs)(i.G7,{"className":"expressInfoTop","children":[(0,k.jsx)(i.G7,{"className":"goodsImg","style":{"backgroundImage":"url(".concat(C,")")},"children":(0,k.jsxs)(i.G7,{"className":"tip","children":["共 ",$," 件商品"]})}),(0,k.jsxs)(i.G7,{"className":"list","children":[T,(0,k.jsxs)(i.G7,{"className":"listItem","children":["物流状态：",T||"暂时无法获取物流状态"]}),(0,k.jsxs)(i.G7,{"className":"listItem","children":["快递公司：",G]}),(0,k.jsxs)(i.G7,{"className":"listItem","children":["快递单号：",R]})]})]})},C=function ExpressInfoStep(e){var t=e.code,n=(0,Z.le)(t).detail,o=(0,b.Z)(n,"message"),S=(0,b.Z)(n,"data");return(0,k.jsx)(i.G7,{"className":"expressInfoStep","children":"ok"===o?S.map((function(e,t){return(0,k.jsxs)(i.G7,{"className":"step","children":[(0,k.jsx)(i.G7,{"className":"time","children":e.time}),(0,k.jsx)(i.G7,{"children":e.context})]},t)})):(0,k.jsx)(i.G7,{"className":"noInfo","children":o})})},$=function Index(){var e=o.ZP.useRouter().params;return(0,k.jsxs)(i.G7,{"className":"expressInfo","children":[(0,k.jsx)(S,{"code":e.code}),(0,k.jsx)(C,{"code":e.code})]})}},"5847":function(e,t,n){n.d(t,{"Z":function(){return Be}});var o=n(9743),i=n(5129),Z="__lodash_hash_undefined__";var b=function setCacheAdd(e){return this.__data__.set(e,Z),this};var k=function setCacheHas(e){return this.__data__.has(e)};function SetCache(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i.Z;++t<n;)this.add(e[t])}SetCache.prototype.add=SetCache.prototype.push=b,SetCache.prototype.has=k;var S=SetCache;var C=function arraySome(e,t){for(var n=-1,o=null==e?0:e.length;++n<o;)if(t(e[n],n,e))return!0;return!1};var $=function cacheHas(e,t){return e.has(t)},G=1,R=2;var T=function equalArrays(e,t,n,o,i,Z){var b=n&G,k=e.length,T=t.length;if(k!=T&&!(b&&T>k))return!1;var F=Z.get(e),J=Z.get(t);if(F&&J)return F==t&&J==e;var q=-1,V=!0,z=n&R?new S:void 0;for(Z.set(e,t),Z.set(t,e);++q<k;){var K=e[q],H=t[q];if(o)var Q=b?o(H,K,q,t,e,Z):o(K,H,q,e,t,Z);if(void 0!==Q){if(Q)continue;V=!1;break}if(z){if(!C(t,(function(e,t){if(!$(z,t)&&(K===e||i(K,e,n,o,Z)))return z.push(t)}))){V=!1;break}}else if(K!==H&&!i(K,H,n,o,Z)){V=!1;break}}return Z.delete(e),Z.delete(t),V},F=n(7221),J=n(5930),q=n(2898);var V=function mapToArray(e){var t=-1,n=Array(e.size);return e.forEach((function(e,o){n[++t]=[o,e]})),n};var z=function setToArray(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},K=1,H=2,Q="[object Boolean]",U="[object Date]",Y="[object Error]",W="[object Map]",X="[object Number]",ee="[object RegExp]",te="[object Set]",ne="[object String]",re="[object Symbol]",ae="[object ArrayBuffer]",ce="[object DataView]",oe=F.Z?F.Z.prototype:void 0,se=oe?oe.valueOf:void 0;var ie=function equalByTag(e,t,n,o,i,Z,b){switch(n){case ce:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ae:return!(e.byteLength!=t.byteLength||!Z(new J.Z(e),new J.Z(t)));case Q:case U:case X:return(0,q.Z)(+e,+t);case Y:return e.name==t.name&&e.message==t.message;case ee:case ne:return e==t+"";case W:var k=V;case te:var S=o&K;if(k||(k=z),e.size!=t.size&&!S)return!1;var C=b.get(e);if(C)return C==t;o|=H,b.set(e,t);var $=T(k(e),k(t),o,i,Z,b);return b.delete(e),$;case re:if(se)return se.call(e)==se.call(t)}return!1},ue=n(2896),le=1,de=Object.prototype.hasOwnProperty;var ve=function equalObjects(e,t,n,o,i,Z){var b=n&le,k=(0,ue.Z)(e),S=k.length;if(S!=(0,ue.Z)(t).length&&!b)return!1;for(var C=S;C--;){var $=k[C];if(!(b?$ in t:de.call(t,$)))return!1}var G=Z.get(e),R=Z.get(t);if(G&&R)return G==t&&R==e;var T=!0;Z.set(e,t),Z.set(t,e);for(var F=b;++C<S;){var J=e[$=k[C]],q=t[$];if(o)var V=b?o(q,J,$,t,e,Z):o(J,q,$,e,t,Z);if(!(void 0===V?J===q||i(J,q,n,o,Z):V)){T=!1;break}F||(F="constructor"==$)}if(T&&!F){var z=e.constructor,K=t.constructor;z==K||!("constructor"in e)||!("constructor"in t)||"function"==typeof z&&z instanceof z&&"function"==typeof K&&K instanceof K||(T=!1)}return Z.delete(e),Z.delete(t),T},me=n(2926),he=n(3755),ge=n(9578),Ze=n(6732),xe=1,ye="[object Arguments]",we="[object Array]",Ne="[object Object]",Oe=Object.prototype.hasOwnProperty;var De=function baseIsEqualDeep(e,t,n,i,Z,b){var k=(0,he.Z)(e),S=(0,he.Z)(t),C=k?we:(0,me.Z)(e),$=S?we:(0,me.Z)(t),G=(C=C==ye?Ne:C)==Ne,R=($=$==ye?Ne:$)==Ne,F=C==$;if(F&&(0,ge.Z)(e)){if(!(0,ge.Z)(t))return!1;k=!0,G=!1}if(F&&!G)return b||(b=new o.Z),k||(0,Ze.Z)(e)?T(e,t,n,i,Z,b):ie(e,t,C,n,i,Z,b);if(!(n&xe)){var J=G&&Oe.call(e,"__wrapped__"),q=R&&Oe.call(t,"__wrapped__");if(J||q){var V=J?e.value():e,z=q?t.value():t;return b||(b=new o.Z),Z(V,z,n,i,b)}}return!!F&&(b||(b=new o.Z),ve(e,t,n,i,Z,b))},Ae=n(494);var Be=function baseIsEqual(e,t,n,o,i){return e===t||(null==e||null==t||!(0,Ae.Z)(e)&&!(0,Ae.Z)(t)?e!=e&&t!=t:De(e,t,n,o,baseIsEqual,i))}},"10":function(e,t,n){var o=n(5054);t.Z=function get(e,t,n){var i=null==e?void 0:(0,o.Z)(e,t);return void 0===i?n:i}},"5323":function(e,t,n){n.d(t,{"Z":function(){return ye}});var o=n(2547);var i=function arrayAggregator(e,t,n,o){for(var i=-1,Z=null==e?0:e.length;++i<Z;){var b=e[i];t(o,b,n(b),e)}return o};var Z=function createBaseFor(e){return function(t,n,o){for(var i=-1,Z=Object(t),b=o(t),k=b.length;k--;){var S=b[e?k:++i];if(!1===n(Z[S],S,Z))break}return t}}(),b=n(8445);var k=function baseForOwn(e,t){return e&&Z(e,t,b.Z)},S=n(4864);var C=function createBaseEach(e,t){return function(n,o){if(null==n)return n;if(!(0,S.Z)(n))return e(n,o);for(var i=n.length,Z=t?i:-1,b=Object(n);(t?Z--:++Z<i)&&!1!==o(b[Z],Z,b););return n}}(k);var $=function baseAggregator(e,t,n,o){return C(e,(function(e,i,Z){t(o,e,n(e),Z)})),o},G=n(517),R=n(9743),T=n(5847),F=1,J=2;var q=function baseIsMatch(e,t,n,o){var i=n.length,Z=i,b=!o;if(null==e)return!Z;for(e=Object(e);i--;){var k=n[i];if(b&&k[2]?k[1]!==e[k[0]]:!(k[0]in e))return!1}for(;++i<Z;){var S=(k=n[i])[0],C=e[S],$=k[1];if(b&&k[2]){if(void 0===C&&!(S in e))return!1}else{var G=new R.Z;if(o)var q=o(C,$,S,e,t,G);if(!(void 0===q?(0,T.Z)($,C,F|J,o,G):q))return!1}}return!0},V=n(4156);var z=function isStrictComparable(e){return e==e&&!(0,V.Z)(e)};var K=function getMatchData(e){for(var t=(0,b.Z)(e),n=t.length;n--;){var o=t[n],i=e[o];t[n]=[o,i,z(i)]}return t};var H=function matchesStrictComparable(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var Q=function baseMatches(e){var t=K(e);return 1==t.length&&t[0][2]?H(t[0][0],t[0][1]):function(n){return n===e||q(n,e,t)}},U=n(10);var Y=function baseHasIn(e,t){return null!=e&&t in Object(e)},W=n(2030),X=n(2554),ee=n(3755),te=n(4802),ne=n(6838),re=n(8537);var ae=function hasPath(e,t,n){for(var o=-1,i=(t=(0,W.Z)(t,e)).length,Z=!1;++o<i;){var b=(0,re.Z)(t[o]);if(!(Z=null!=e&&n(e,b)))break;e=e[b]}return Z||++o!=i?Z:!!(i=null==e?0:e.length)&&(0,ne.Z)(i)&&(0,te.Z)(b,i)&&((0,ee.Z)(e)||(0,X.Z)(e))};var ce=function hasIn(e,t){return null!=e&&ae(e,t,Y)},oe=n(9736),se=1,ie=2;var ue=function baseMatchesProperty(e,t){return(0,oe.Z)(e)&&z(t)?H((0,re.Z)(e),t):function(n){var o=(0,U.Z)(n,e);return void 0===o&&o===t?ce(n,e):(0,T.Z)(t,o,se|ie)}},le=n(1e3);var de=function baseProperty(e){return function(t){return null==t?void 0:t[e]}},ve=n(5054);var me=function basePropertyDeep(e){return function(t){return(0,ve.Z)(t,e)}};var he=function property(e){return(0,oe.Z)(e)?de((0,re.Z)(e)):me(e)};var ge=function baseIteratee(e){return"function"==typeof e?e:null==e?le.Z:"object"==(0,G.Z)(e)?(0,ee.Z)(e)?ue(e[0],e[1]):Q(e):he(e)};var Ze=function createAggregator(e,t){return function(n,o){var Z=(0,ee.Z)(n)?i:$,b=t?t():{};return Z(n,e,ge(o,2),b)}},xe=Object.prototype.hasOwnProperty,ye=Ze((function(e,t,n){xe.call(e,n)?e[n].push(t):(0,o.Z)(e,n,[t])}))},"3358":function(e,t){t.Z=function isUndefined(e){return void 0===e}},"9164":function(e,t,n){n.d(t,{"g3":function(){return ye},"EK":function(){return ce},"i4":function(){return st},"UJ":function(){return He},"Xp":function(){return ze},"ww":function(){return he},"At":function(){return de},"DC":function(){return me},"z2":function(){return Le},"v4":function(){return je},"Bi":function(){return Oe},"VI":function(){return Ae},"Qk":function(){return ut},"rs":function(){return Be},"e9":function(){return Qe},"bY":function(){return Me},"ke":function(){return lt},"le":function(){return tt},"oi":function(){return ft},"M7":function(){return ct},"qq":function(){return ve},"tn":function(){return Ee},"dz":function(){return at},"br":function(){return Xe},"MQ":function(){return et},"nt":function(){return qe},"h5":function(){return Ve},"ss":function(){return Ke},"oR":function(){return we}});var o=n(766),i=n(8548),Z=n(1760),b=n(2922),k=n(3464),S=n(4358),C=n(6812);function dist_a(){try{return!0}catch(e){return!0}}var $={};function dist_d(){return(0,C.Z)($)&&($=n(3283)),$}var G=function h(e,t){localStorage?function y(e,t){"string"==typeof t?window.localStorage.setItem(e,t):window.localStorage.setItem(e,JSON.stringify(t))}(e,t):dist_d().setStorageSync(e,t)};function w(e,t,n,o){return new(n||(n=Promise))((function(i,Z){function c(e){try{u(o.next(e))}catch(e){Z(e)}}function a(e){try{u(o.throw(e))}catch(e){Z(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,a)}u((o=o.apply(e,t||[])).next())}))}function dist_p(e){return w(this,void 0,void 0,(0,i.Z)().mark((function _callee(){return(0,i.Z)().wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(!dist_a()){t.next=4;break}return t.next=3,dist_d();case 3:t.sent.navigateTo({"url":e});case 4:case"end":return t.stop()}}),_callee)})))}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return w(this,void 0,void 0,(0,i.Z)().mark((function _callee2(){return(0,i.Z)().wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:if(!dist_a()){t.next=4;break}return t.next=3,dist_d();case 3:t.sent.navigateBack({"delta":e});case 4:case"end":return t.stop()}}),_callee2)})))}var R=function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";return w(void 0,void 0,void 0,(0,i.Z)().mark((function _callee4(){return(0,i.Z)().wrap((function _callee4$(n){for(;;)switch(n.prev=n.next){case 0:if(!dist_a()){n.next=4;break}return n.next=3,dist_d();case 3:n.sent.showToast({"title":e,"icon":t,"duration":1e3});case 4:case"end":return n.stop()}}),_callee4)})))},T=function A(e){return w(void 0,void 0,void 0,(0,i.Z)().mark((function _callee5(){return(0,i.Z)().wrap((function _callee5$(t){for(;;)switch(t.prev=t.next){case 0:if(!dist_a()){t.next=4;break}return t.next=3,dist_d();case 3:t.sent.showToast({"title":e,"icon":"error","duration":1500});case 4:case"end":return t.stop()}}),_callee5)})))};var F=n(10),J=n(5323),q=n(8239),V=n(807),z=n(1150),K=n(2030),H=n(4802),Q=n(4156),U=n(8537);var Y=function baseSet(e,t,n,o){if(!(0,Q.Z)(e))return e;for(var i=-1,Z=(t=(0,K.Z)(t,e)).length,b=Z-1,k=e;null!=k&&++i<Z;){var S=(0,U.Z)(t[i]),C=n;if("__proto__"===S||"constructor"===S||"prototype"===S)return e;if(i!=b){var $=k[S];void 0===(C=o?o($,S,k):void 0)&&(C=(0,Q.Z)($)?$:(0,H.Z)(t[i+1])?[]:{})}(0,z.Z)(k,S,C),k=k[S]}return e};var W=function set(e,t,n){return null==e?e:Y(e,t,n)},X=n(3358);function pe(e,t){var n=(0,k.createContext)(null),o=(0,k.createContext)(null);return[function(i){var S=i.children,C=(0,k.useReducer)(e,t),$=(0,Z.Z)(C,2),G=$[0],R=$[1];return(0,b.jsx)(n.Provider,Object.assign({"value":R},{"children":(0,b.jsx)(o.Provider,Object.assign({"value":G},{"children":S}))}))},function(){return(0,k.useContext)(o)},function(){return(0,k.useContext)(n)}]}var ee=pe((function(e,t){switch(t.type){case"plus":return Object.assign(Object.assign({},e),{"count":e.count+1});case"minus":return Object.assign(Object.assign({},e),{"count":e.count-1});case"select":case"initGoods":case"popupImpl":return Object.assign(Object.assign({},e),t.payload);default:return e}}),{"count":1,"orderType":0,"isNeedButton":!1,"popupVisible":!1,"goodsNum":1,"goodsCode":"","spec":[]}),te=(0,Z.Z)(ee,3),ne=te[0],re=te[1],ae=te[2],ce=Object.freeze({"__proto__":null,"StoreProvider":ne,"useStore":re,"useDispatchImpl":ae});function fe(e,t,n,o){return new(n||(n=Promise))((function(i,Z){function r(e){try{a(o.next(e))}catch(e){Z(e)}}function d(e){try{a(o.throw(e))}catch(e){Z(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,d)}a((o=o.apply(e,t||[])).next())}))}var oe=dist_a(),se=function Ce(e,t){return fe(void 0,void 0,void 0,(0,i.Z)().mark((function _callee(){var n;return(0,i.Z)().wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:return n={"specStr":JSON.stringify(e),"goodsCode":t},o.next=3,(0,S.mh)(n);case 3:return o.abrupt("return",o.sent);case 4:case"end":return o.stop()}}),_callee)})))},ie=function be(e,t){return fe(void 0,void 0,void 0,(0,i.Z)().mark((function _callee2(){var n;return(0,i.Z)().wrap((function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:return n={"skuId":e,"goodsNum":t},o.next=3,(0,S.Em)(n);case 3:return o.abrupt("return",o.sent);case 4:case"end":return o.stop()}}),_callee2)})))},ue=function Se(e,t){return fe(void 0,void 0,void 0,(0,i.Z)().mark((function _callee3(){var n;return(0,i.Z)().wrap((function _callee3$(o){for(;;)switch(o.prev=o.next){case 0:return n={"skuId":e,"goodsNum":t,"isLocalMock":!oe},o.next=3,(0,S.EP)(n);case 3:return o.abrupt("return",o.sent);case 4:case"end":return o.stop()}}),_callee3)})))},le=function ke(e){return fe(void 0,void 0,void 0,(0,i.Z)().mark((function _callee4(){return(0,i.Z)().wrap((function _callee4$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,S.O6)(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),_callee4)})))},de={"index":"/pages/index/index","shopping":"/pages/shopping/index","classify":"/pages/classify/index","my":"/pages/my/index","order":"/subpackage/orderlist/index","orderDetail":"/subpackage/orderdetail/index","search":"/subpackage/search/index","goodList":"/subpackage/goodlist/index","goodDetail":"/subpackage/gooddetail/index","confirm":"/subpackage/orderconfirm/index","result":"/subpackage/result/index","rate":"/subpackage/rate/index","paymentMode":"/subpackage/paymentmode/index","expressInfo":"/subpackage/expressinfo/index","collectionList":"/subpackage/collectionlist/index","footprint":"/subpackage/footprint/index","evaluateDetail":"/subpackage/ratedetail/index","myAgreementList":"/subpackage/myagreementlist/index","mySetting":"/subpackage/mysetting/index","noticeDetail":"/subpackage/noticedetail/index","bindIphone":"/append/bindIphone/index","addressEditor":"/subpackage/addresseditor/index","addressList":"/subpackage/addresslist/index","couponList":"/subpackage/couponlist/index","setting":"/subpackage/setting/index","register":"/account/register/index","accountLogin":"/account/accountLogin/index","mobileLogin":"/account/mobileLogin/index","forgetPwd":"/account/forgetPwd/index","agreement":"/account/agreement/index","auth":"/account/auth/index","confirmPhone":"/account/confirmPhone/index","bindPhone":"/account/bindPhone/index"};function Le(){var e=this,t=re(),n=t.count,o=t.spec,Z=t.orderType,b=t.popupVisible,k=t.isNeedButton,S=t.goodsCode,C=ae(),$=function d(){C({"type":"popupImpl","payload":{"popupVisible":!b}})};return{"count":n,"spec":o,"popupVisible":b,"isNeedButton":k,"handleChooseSize":function handleChooseSize(e,t){o[t]=e,C({"type":"select","payload":{"spec":o}})},"handleStep":function handleStep(e){0!==n||"minus"!==e?C({"type":e}):R("不能小于0","none")},"addShoppingImpl":function addShoppingImpl(){0===Z?function a(){fe(e,void 0,void 0,(0,i.Z)().mark((function _callee5(){var e,t,Z;return(0,i.Z)().wrap((function _callee5$(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,se(o,S);case 3:return e=i.sent,t=(0,F.Z)(e,"dataObj.skuId"),i.next=7,ie(t,n);case 7:return Z=i.sent,i.next=10,R(Z.msg||"添加成功");case 10:$(),i.next=17;break;case 13:return i.prev=13,i.t0=i.catch(0),i.next=17,T("无法登录");case 17:case"end":return i.stop()}}),_callee5,null,[[0,13]])})))}():function s(){fe(e,void 0,void 0,(0,i.Z)().mark((function _callee6(){var e,t;return(0,i.Z)().wrap((function _callee6$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,se(o,S);case 2:e=i.sent,t=(0,F.Z)(e,"dataObj.skuId"),dist_p("".concat(de.confirm,"?skuId=").concat(t,"&goodsNum=").concat(n));case 5:case"end":return i.stop()}}),_callee6)})))}()},"popupHandler":$}}var ve=function Ie(e){var t=(0,k.useState)({"goodsRemark":"","pricesetNprice":0}),n=(0,Z.Z)(t,2),o=n[0],b=n[1],$=(0,k.useState)([]),G=(0,Z.Z)($,2),R=G[0],T=G[1],q=(0,k.useState)({}),V=(0,Z.Z)(q,2),z=V[0],K=V[1],H=(0,k.useState)([]),Q=(0,Z.Z)(H,2),U=Q[0],Y=Q[1],W=(0,k.useState)(1),X=(0,Z.Z)(W,2),ee=X[0],te=X[1],ne=(0,k.useState)(!1),re=(0,Z.Z)(ne,2),ce=re[0],oe=re[1],se=(0,k.useState)([]),ie=(0,Z.Z)(se,2),ue=ie[0],le=ie[1],de=(0,k.useState)([]),ve=(0,Z.Z)(de,2),me=ve[0],he=ve[1],ge=(0,k.useState)([]),Ze=(0,Z.Z)(ge,2),xe=Ze[0],ye=Ze[1],we=(0,k.useRef)({}),Ne=ae();(0,k.useEffect)((function(){fe(void 0,void 0,void 0,(0,i.Z)().mark((function _callee7(){return(0,i.Z)().wrap((function _callee7$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe();case 2:case"end":return e.stop()}}),_callee7)})))}),[]);var Oe=function x(){return fe(void 0,void 0,void 0,(0,i.Z)().mark((function _callee8(){var t,n,o,Z,k,C,$,G;return(0,i.Z)().wrap((function _callee8$(i){for(;;)switch(i.prev=i.next){case 0:return t=dist_a(),i.prev=1,i.next=4,(0,S.oy)({"skuCode":e,"isLocalMock":!t});case 4:n=i.sent,o=function(e){var t={"skuNo":e.skuNo||"","skuCode":e.rsSkuDomainList[0].skuCode||"","classtreeCode":e.classtreeCode||"","brandCode":e.brandCode||"","pntreeCode":e.pntreeCode||"","memberCode":e.memberCode||""},n=e.rsGoodsFileDomainList,o=void 0===n?[]:n,i=e.rsSpecValueDomainList,Z=void 0===i?[]:i,b=e.goodsCode;return{"pListParams":t,"arr":o,"skuList":Z,"goodsCode":void 0===b?"":b,"goodsNum":e.goodsNum}}(n),Z=o.pListParams,k=o.arr,C=o.skuList,$=o.goodsCode,G=o.goodsNum,we.current=Z,b(n),Ae(k),De(C,$,G),Te(Z,$,n),i.next=17;break;case 14:i.prev=14,i.t0=i.catch(1),console.log(59,i.t0);case 17:case"end":return i.stop()}}),_callee8,null,[[1,14]])})))},De=function M(e,t,n){var o=function(e){var t=(0,J.Z)(e,"specName");return t?Object.keys(t).map((function(e){return{"skuName":e,"skuOption":t[e]}})):[]}(e);le(o);var i=o.map((function(e){return(0,F.Z)(e,"skuOption[0].specValueValue")}));Ne({"type":"initGoods","payload":{"spec":i,"goodsCode":t,"goodsNum":n}})},Ae=function j(e){if(!(0,C.Z)(e)){var t=e.map((function(e){return{"imgUrl":e.goodsFileUrl,"link":""}}));Y(t)}},Be=function B(e){return(0,S.q)(e)},Ee=function A(e){return(0,S.tu)({"goodsCode":e,"page":1,"rows":10})},Te=function w(e,t,n){return fe(void 0,void 0,void 0,(0,i.Z)().mark((function _callee9(){var o,b,k,C,$,G,R,F,J,q;return(0,i.Z)().wrap((function _callee9$(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Promise.all([(q=e,(0,S.jQ)(q)),Ee(t),Be(e),(J=n,(0,S.lH)({"footprintType":0,"footprintOpcode":J.rsSkuDomainList[0].skuCode,"footprintOppic":J.dataPic,"footprintOpcont":J.goodsName,"footprintOpnum":J.pricesetNprice,"footprintOpurl":""}))]);case 3:o=i.sent,b=(0,Z.Z)(o,3),k=b[0],C=void 0===k?[]:k,$=b[1],G=void 0===$?{}:$,R=b[2],F=void 0===R?[]:R,T(C),he(G.list),ye(F),i.next=17;break;case 14:i.prev=14,i.t0=i.catch(0),console.log(123,i.t0);case 17:case"end":return i.stop()}}),_callee9,null,[[0,14]])})))};return{"promotionArr":R,"checkCollectionObj":z,"setCheckCollectionObj":K,"sliderArr":U,"tabActive":ee,"setTabActive":te,"popupVisible":ce,"setPopupVisible":oe,"goods":o,"goodSku":ue,"evaluateArr":me,"coupon":xe,"queryCouponImpl":function queryCouponImpl(){return fe(void 0,void 0,void 0,(0,i.Z)().mark((function _callee10(){var e;return(0,i.Z)().wrap((function _callee10$(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Be(we.current);case 3:e=t.sent,ye(e),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),_callee10,null,[[0,7]])})))}}},me=function Pe(){var e=(0,k.useState)(!1),t=(0,Z.Z)(e,2),n=t[0],o=t[1];return{"save":function save(e){return fe(void 0,void 0,void 0,(0,i.Z)().mark((function _callee11(){return(0,i.Z)().wrap((function _callee11$(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=9;break}return t.prev=1,t.next=4,(0,S.Oi)(e);case 4:o(!0),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(1);case 9:case"end":return t.stop()}}),_callee11,null,[[1,7]])})))},"isPick":n}},he={"num":0},ge="00000017";function Me(e,t,n){var o=this,b=t.useForm(),C=(0,Z.Z)(b,1)[0],$=(0,k.useState)("1"),G=(0,Z.Z)($,2),R=G[0],T=G[1],F=(0,k.useState)(!0),J=(0,Z.Z)(F,2),q=J[0],V=J[1],z=(0,k.useState)({"provinceCode":"","provinceName":"","cityCode":"","cityName":"","areaCode":"","areaName":""}),K=(0,Z.Z)(z,2),H=K[0],Q=K[1];(0,k.useEffect)((function(){e||!n?U():(C.setFieldValue("addressDefault",R),V(!1))}),[]);var U=function p(){(0,S.Kn)({"addressId":e,"isLocalMock":!n}).then((function(e){var t={"provinceCode":e.provinceCode,"cityCode":e.cityCode,"areaCode":e.areaCode,"provinceName":e.provinceName,"cityName":e.cityName,"areaName":e.areaName};Q(t),T(e.addressDefault),C.setFieldValue("addressMember",e.addressMember),C.setFieldValue("addressPhone",e.addressPhone),C.setFieldValue("addressDetail",e.addressDetail),C.setFieldValue("area",t),C.setFieldValue("addressDefault",e.addressDefault),C.validateFields(),V(!1)}))};return{"skullShow":q,"form":C,"area":H,"setArea":Q,"userCode":ge,"defaultAddress":R,"handleArea":function handleArea(e,t){var n={"provinceCode":"","cityCode":"","areaCode":"","provinceName":"","cityName":"","areaName":""};if("weapp"===e){var o=t.detail.code,i=t.detail.value;n.provinceCode=o[0],n.cityCode=o[1],n.areaCode=o[2],n.provinceName=i[0],n.cityName=i[1],n.areaName=i[2]}else"h5"===e&&(n.provinceCode=t.provinceCode,n.cityCode=t.cityCode,n.areaCode=t.areaCode,n.provinceName=t.provinceName,n.cityName=t.cityName,n.areaName=t.areaName);Q(n),C.setFieldValue("area",n),C.validateFields()},"handleDefaultAddress":function handleDefaultAddress(e,t){"h5"===e?T(t?"1":"0"):"weapp"===e&&T(t.detail.value?"1":"0")},"handleFinish":function handleFinish(t){return fe(o,void 0,void 0,(0,i.Z)().mark((function _callee12(){var n,o;return(0,i.Z)().wrap((function _callee12$(i){for(;;)switch(i.prev=i.next){case 0:return t.addressDefault=t.addressDefault?"1":"0",delete(n=Object.assign(t,t.area)).area,i.prev=3,i.next=6,o=Object.assign(Object.assign({},n),{"userCode":ge}),e?(0,S.y3)(Object.assign({"addressId":e},o)):(0,S.Mw)(o);case 6:m(-1),i.next=11;break;case 9:i.prev=9,i.t0=i.catch(3);case 11:case"end":return i.stop()}}),_callee12,null,[[3,9]])})))}}}function je(e){var t=this,n=(0,k.useState)([]),b=(0,Z.Z)(n,2),C=b[0],$=b[1],G=(0,k.useState)(!0),R=(0,Z.Z)(G,2),T=R[0],F=R[1];(0,k.useEffect)((function(){J()}),[e]);var J=function d(){return fe(t,void 0,void 0,(0,i.Z)().mark((function _callee13(){var e,t;return(0,i.Z)().wrap((function _callee13$(n){for(;;)switch(n.prev=n.next){case 0:return e=dist_a(),n.next=3,(0,S.d1)({"isLocalMock":!e});case 3:t=n.sent,$(t),F(!1);case 5:case"end":return n.stop()}}),_callee13)})))},q=function a(e,t){var n=t[e];return t[e]=t[0],t[e].addressDefault="0",t[0]=n,t[0].addressDefault="1",(0,o.Z)(t)};return{"list":C,"skullShow":T,"delAddress":function delAddress(e){dist_a()&&dist_d().showModal({"title":"提示","content":"确认删除该地址吗？","success":function success(n){return fe(t,void 0,void 0,(0,i.Z)().mark((function _callee14(){return(0,i.Z)().wrap((function _callee14$(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null==n?void 0:n.confirm,!t.t0){t.next=6;break}return t.next=4,(0,S._N)({"addressId":e.addressId});case 4:return t.next=6,J();case 6:case"end":return t.stop()}}),_callee14)})))}})},"setDefault":function setDefault(e,n){return fe(t,void 0,void 0,(0,i.Z)().mark((function _callee15(){var t,o,Z,b,k,G,R,T,F,V,z,K,H;return(0,i.Z)().wrap((function _callee15$(i){for(;;)switch(i.prev=i.next){case 0:if("1"===e.addressDefault){i.next=7;break}return t=e.addressMember,o=e.addressPhone,Z=e.provinceCode,b=e.provinceName,k=e.cityCode,G=e.cityName,R=e.areaCode,T=e.areaName,F=e.addressDetail,V=e.addressId,z=e.addressCode,K=e.dataState,H={"addressMember":t,"addressPhone":o,"provinceCode":Z,"provinceName":b,"cityCode":k,"cityName":G,"areaCode":R,"areaName":T,"addressDetail":F,"addressId":V,"addressCode":z,"dataState":K,"addressDefault":"1"},$(q(n,C)),i.next=5,(0,S.y3)(H);case 5:return i.next=7,J();case 7:case"end":return i.stop()}}),_callee15)})))},"getAddressList":J}}var Ze=pe((function(e,t){switch(t.type){case"select":return Object.assign(Object.assign({},e),{"select":t.payload});case"update":return Object.assign(Object.assign({},e),t.payload);default:return e}}),{"id":"","count":0,"loading":!1,"select":[]}),xe=(0,Z.Z)(Ze,3),ye=xe[0],we=xe[1],Ne=xe[2],Oe=function Ge(){var e=Ne();return{"select":we().select,"onChange":function onChange(t){e({"type":"select","payload":t.detail.value})},"handleStep":function handleStep(t,n,o){return fe(void 0,void 0,void 0,(0,i.Z)().mark((function _callee16(){var Z;return(0,i.Z)().wrap((function _callee16$(i){for(;;)switch(i.prev=i.next){case 0:if(0!==n||"minus"!==o){i.next=2;break}return i.abrupt("return",void R("不能小于0","none"));case 2:Z="plus"===o?++n:--n,e({"type":"update","payload":{"id":t,"count":Z,"loading":!0}});case 4:case"end":return i.stop()}}),_callee16)})))}}},De=dist_a(),Ae=function $e(e){var t=(0,k.useState)([]),n=(0,Z.Z)(t,2),o=n[0],b=n[1],C=(0,k.useState)(0),$=(0,Z.Z)(C,2),G=$[0],R=$[1],T=(0,k.useRef)([]),J=Ne(),q=we(),V=q.select,z=q.id,K=q.count,H=(0,k.useMemo)((function(){var e=0,t=0;return o.forEach((function(n){V.includes(n.shoppingGoodsId+"")&&(e+=n.goodsCamount,t+=n.goodsCamount*n.pricesetNprice)})),{"num":e,"amount":t}}),[V,o]);(0,k.useEffect)((function(){fe(void 0,void 0,void 0,(0,i.Z)().mark((function _callee17(){return(0,i.Z)().wrap((function _callee17$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U("isFirst");case 2:case"end":return e.stop()}}),_callee17)})))}),[e]),(0,k.useEffect)((function(){z&&Q(z,K)}),[z,K]);var Q=function y(e,t){return fe(void 0,void 0,void 0,(0,i.Z)().mark((function _callee18(){return(0,i.Z)().wrap((function _callee18$(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,S.sT)({"shoppingGoodsId":e,"amount":t,"goodWeight":0});case 3:return n.next=5,U();case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),_callee18,null,[[0,7]])})))},U=function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return fe(void 0,void 0,void 0,(0,i.Z)().mark((function _callee19(){var t,n;return(0,i.Z)().wrap((function _callee19$(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,S.ts)({"isLocalMock":!De});case 2:t=o.sent,n=(0,F.Z)(t,"rows[0].shoppingpackageList[0]",{"shoppingGoodsList":[],"disMoney":0}),T.current=n.shoppingGoodsList.map((function(e){return e.shoppingGoodsId+""})),e&&J({"type":"select","payload":T.current}),J({"type":"update","payload":{"loading":!1}}),R(n.disMoney||0),b(n.shoppingGoodsList);case 5:case"end":return o.stop()}}),_callee19)})))};return{"cartList":o,"initImpl":U,"disMoney":G,"amount":H,"selectAll":function selectAll(e){J({"type":"select","payload":e.detail.value.includes("true")?T.current:[]})},"allCart":T,"toOrderImpl":function toOrderImpl(){dist_p("".concat(de.confirm,"?shoppingGoodsId=").concat(V.join(",")))},"select":V,"deleteCart":function deleteCart(){return fe(void 0,void 0,void 0,(0,i.Z)().mark((function _callee20(){return(0,i.Z)().wrap((function _callee20$(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,S.Ox)({"shoppingGoodsIdStr":JSON.stringify(V)});case 3:return e.next=5,U();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),_callee20,null,[[0,7]])})))}}},Be=function Re(){var e=(0,k.useState)(1),t=(0,Z.Z)(e,2),n=t[0],o=t[1];return{"config":(0,k.useRef)([{"id":1,"label":"未使用"},{"id":2,"label":"已使用"},{"id":3,"label":"已失效"}]),"coe":n,"setCoe":o}};function Je(e){var t=(0,k.useRef)(null);return t.current=(0,q.Z)(e)?e:V.Z,(0,k.useCallback)((function(){return t.current.apply(t,arguments)}),[t])}var Ee=function _e(e,t,n){var o=(0,k.useRef)(!0),b=(0,k.useRef)(0),$=(0,k.useState)([]),G=(0,Z.Z)($,2),R=G[0],T=G[1],F=(0,k.useState)(!1),J=(0,Z.Z)(F,2),q=J[0],V=J[1];(0,k.useEffect)((function(){z()}),[n]);var z=Je((function(){b.current=0,o.current=!0,T([]),K(n)})),K=Je((function(n){var Z=n.sortField,k=void 0===Z?"pricesetNprice":Z,$=n.order,G=void 0===$?"":$;return fe(void 0,void 0,void 0,(0,i.Z)().mark((function _callee30(){var n;return(0,i.Z)().wrap((function _callee30$(i){for(;;)switch(i.prev=i.next){case 0:if(!o.current){i.next=12;break}return++b.current,V(!0),i.prev=2,i.next=5,(0,S.sE)({"distinctField":"goodsNo","sortField":k,"order":G,"goodsType":"00,50","page":b.current,"rows":10,"searchParam":t,"classtreeCode":e});case 5:n=i.sent,((0,C.Z)(n.list)||n.list.length<10)&&(o.current=!1),V(!1),T((function(e){return e.concat(n.list)})),i.next=12;break;case 9:i.prev=9,i.t0=i.catch(2),--b.current;case 12:case"end":return i.stop()}}),_callee30,null,[[2,9]])})))}));return{"loading":q,"getData":K,"list":R}};function qe(e){var t=this,n=(0,k.useState)(!1),o=(0,Z.Z)(n,2),b=o[0],C=o[1],$=(0,k.useRef)(""),T=dist_a(),F=(0,k.useState)([]),J=(0,Z.Z)(F,2),q=J[0],V=J[1],z=(0,k.useRef)({}),K=(0,k.useRef)({"dataBmoney":"","contractBillcode":""});(0,k.useEffect)((function(){fe(t,void 0,void 0,(0,i.Z)().mark((function _callee31(){var t,n,o;return(0,i.Z)().wrap((function _callee31$(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,(0,S.IF)({"contractBillcode":e,"isLocalMock":!T});case 3:return n=i.sent,K.current=n.dataObj,i.next=7,(0,S.MO)({"contractBillcode":null!==(t=K.current.contractBillcode)&&void 0!==t?t:"","isLocalMock":!T});case 7:o=i.sent,V(o.payChannelList),z.current=o,i.next=14;break;case 11:i.prev=11,i.t0=i.catch(0),console.log(i.t0);case 14:case"end":return i.stop()}}),_callee31,null,[[0,11]])})))}),[]);var H=function p(e,t){return e.find((function(e){return e.fchannelCode===t}))||{}},Q=function m(){return fe(t,void 0,void 0,(0,i.Z)().mark((function _callee32(){var e,t,n,o,Z,b,k,R;return(0,i.Z)().wrap((function _callee32$(i){for(;;)switch(i.prev=i.next){case 0:return t=null!==(e=K.current.contractBillcode)&&void 0!==e?e:"",G("contractBillcode",{"contractBillcode":t}),n=function(){C(!0);var e=z.current,t=e.ptradeSeqno,n=e.contractBlance,o=e.payChannelList,i=H(o,$.current),Z=i.fchannelCode,b=i.faccountOuterNo;return{"ptradeSeqno":t,"contractBlance":n,"fchannelCode":Z,"faccountOuterNo":void 0===b?"":b}}(),o=n.ptradeSeqno,Z=n.contractBlance,b=n.fchannelCode,k=n.faccountOuterNo,R=[{"faccountIdType":"ACCOUNT","fchannelCode":b,"orderAmount":K.current.dataBmoney,"faccountId":k}],i.next=5,(0,S.J8)({"ptradeSeqno":o,"payCommitStr":JSON.stringify(R),"contractBlance":Z});case 5:return i.abrupt("return",i.sent);case 6:case"end":return i.stop()}}),_callee32)})))};return{"paymentImpl":function paymentImpl(){switch($.current||R("请选择支付方式","none"),$.current){case"wechatmini":!function v(){fe(t,void 0,void 0,(0,i.Z)().mark((function _callee35(){var e;return(0,i.Z)().wrap((function _callee35$(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q();case 3:e=t.sent.dataObj.requestData,wx.requestPayment({"timeStamp":e.timeStamp,"nonceStr":e.nonceStr,"package":e.package,"signType":e.signType,"paySign":e.paySign,"success":function success(e){var t,n=null!==(t=K.current.contractBillcode)&&void 0!==t?t:"";dist_p("".concat(de.result,"?code=").concat(n))},"fail":function fail(e){C(!1)},"complete":function complete(e){C(!1)}}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),C(!1);case 10:case"end":return t.stop()}}),_callee35,null,[[0,7]])})))}();break;case"wechatwap":!function y(){fe(t,void 0,void 0,(0,i.Z)().mark((function _callee34(){var e;return(0,i.Z)().wrap((function _callee34$(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q();case 3:e=t.sent,document.getElementById("v_html").innerHTML="<div>"+e.dataObj.htmlStr+"</div>",document.getElementById("paaspaysubmit").submit(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),C(!1);case 10:case"end":return t.stop()}}),_callee34,null,[[0,7]])})))}();break;case"alipaywap":!function g(){fe(t,void 0,void 0,(0,i.Z)().mark((function _callee33(){var e;return(0,i.Z)().wrap((function _callee33$(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q();case 3:e=t.sent,document.getElementById("v_html").innerHTML="<div>"+e.dataObj.htmlStr+"</div>",document.forms[0].submit(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),C(!1);case 10:case"end":return t.stop()}}),_callee33,null,[[0,7]])})))}()}},"channelList":q,"handleRadio":function handleRadio(e){$.current=e.detail.value},"contract":K,"loading":b}}var Te={"provinceName":"","cityName":"","areaName":"","addressDetail":"","addressMember":"","addressPhone":"","addressDefault":""},Fe={"contractSettlOpno":0,"promotionCodes":null,"shoppingCountPrice":0,"totalDiscountPrice":0,"accountsSumPrice":0,"discount":0,"freight":0,"comDisMoney":0,"copyComDisMoney":0};function Ke(e,t,n){var b=this,$=e.skuId,G=e.goodsNum,R=e.shoppingGoodsId,T=(0,k.useRef)([{"dataPic":"","goodsName":"","goodsCamount":0,"skuName":"","pricesetNprice":0}]),F=(0,k.useState)([]),J=(0,Z.Z)(F,2),q=J[0],V=J[1],z=(0,k.useState)(Te),K=(0,Z.Z)(z,2),H=K[0],Q=K[1],U=(0,k.useRef)(""),Y=(0,k.useRef)([]),X=(0,k.useRef)([]),ee=(0,k.useRef)([]),te=(0,k.useState)(0),ne=(0,Z.Z)(te,2),re=ne[0],ae=ne[1],ce=dist_a(),oe=(0,k.useRef)(Fe),se=(0,k.useRef)([]);(0,k.useEffect)((function(){fe(b,void 0,void 0,(0,i.Z)().mark((function _callee36(){return(0,i.Z)().wrap((function _callee36$(e){for(;;)switch(e.prev=e.next){case 0:if(ae(0),oe.current={"contractSettlOpno":0,"promotionCodes":null,"shoppingCountPrice":0,"totalDiscountPrice":0,"accountsSumPrice":0,"discount":0,"freight":0,"comDisMoney":0,"copyComDisMoney":0},X.current=[],Y.current=[],!R){e.next=9;break}return e.next=7,ie((function(){return(0,S.KQ)({"shoppingGoodsIdStr":"[".concat(R,"]")})}));case 7:e.next=11;break;case 9:return e.next=11,ie((function(){return ue($,G)}));case 11:case"end":return e.stop()}}),_callee36)})))}),[t]);var ie=function O(e){return fe(b,void 0,void 0,(0,i.Z)().mark((function _callee38(){var t,o,b,k,C,$;return(0,i.Z)().wrap((function _callee38$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Promise.all([(0,S.d1)({"isLocalMock":!ce}),e()]);case 2:t=i.sent,o=(0,Z.Z)(t,2),b=o[0],k=void 0===b?[]:b,C=o[1],$=n?k.find((function(e){return e.addressId===n})):k.find((function(e){return"1"===e.addressDefault}))||{},Q($),ve(C,$),n="";case 9:case"end":return i.stop()}}),_callee38)})))},ve=function L(e,t){e.forEach((function(e){e.shoppingpackageList.forEach((function(e){oe.current.comDisMoney+=e.disMoney,oe.current.copyComDisMoney+=e.disMoney,e.shoppingGoodsList.forEach((function(t){X.current.push(t),oe.current.shoppingCountPrice+=t.pricesetNprice*t.goodsCamount,t.contractGoodsGtype=0,U.current=e.promotionCode,"00"==t.goodsType&&(0,S.bj)().then((function(e){}))})),e.disMoney>0&&Y.current.push({"contractSettlBlance":0==e.promotionInType?"PM":"COP","contractPmode":"0","contractSettlGmoney":Number(e.disMoney.toFixed(2)),"contractSettlPmoney":Number(e.disMoney.toFixed(2)),"contractSettlOpno":e.promotionCode,"contractSettlOpemo":e.promotionName}),e.giftList?(e.shoppingGoodsList.forEach((function(e){e.ginfoCode=e.pmPromotionList.find((function(e){return"0001"==e.pbCode})).promotionCode})),T.current=[].concat((0,o.Z)(e.shoppingGoodsList),(0,o.Z)(e.giftList))):T.current=e.shoppingGoodsList})),me(),ce&&(he(),function N(){fe(b,void 0,void 0,(0,i.Z)().mark((function _callee37(){var e;return(0,i.Z)().wrap((function _callee37$(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,S.f2)({"pmContractGoodsDomainListStr":JSON.stringify(X.current)});case 3:e=t.sent,V(e),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(74,t.t0);case 10:case"end":return t.stop()}}),_callee37,null,[[0,7]])})))}(),xe(t))}))},me=function I(){var e=oe.current,t=(e.shoppingCountPrice-e.totalDiscountPrice-e.discount-e.comDisMoney+e.freight).toFixed(2);ae(t)},he=function P(){return fe(b,void 0,void 0,(0,i.Z)().mark((function _callee39(){var e,t;return(0,i.Z)().wrap((function _callee39$(n){for(;;)switch(n.prev=n.next){case 0:return{},e=R?{"shoppingGoodsIdStr":"[".concat(R,"]")}:{"skuIdStr":JSON.stringify([{"skuId":$,"goodsNum":G}])},n.prev=2,n.next=5,(0,S.gh)(Object.assign(Object.assign({},e),{"areaCode":11e4}));case 5:t=n.sent,oe.current.freight=t.dataObj,me(),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),console.log(180,n.t0);case 12:case"end":return n.stop()}}),_callee39,null,[[2,9]])})))},ge=function D(){var e=oe.current;return(e.shoppingCountPrice-e.copyComDisMoney-e.discount).toFixed(2)},Ze=function x(){var e=oe.current;return(e.shoppingCountPrice-e.copyComDisMoney+e.freight).toFixed(2)},xe=function M(e){ee.current=function(e){var t=e.addressMember,n=e.userName,o=e.provinceName,i=e.cityName,Z=e.areaName,b=e.addressDetail,k=e.areaCode;return[{"contractPaytime":(new Date).valueOf(),"goodsPbillno":0,"goodsPmbillno":oe.current.promotionCodes,"contractProperty":"0","contractBlance":0,"contractPmode":0,"contractPumode":"0","goodsSupplierName":"","goodsSupplierCode":"","packageList":[{"contractGoodsList":T.current,"shoppingGoodsIdList":[],"promotionCode":U.current,"packageRemark":null}],"packageMode":"","contractType":"00","ocContractSettlList":[],"contractInmoney":Ze(),"contractMoney":ge(),"goodsReceiptMem":t,"goodsReceiptPhone":n,"goodsReceiptArrdess":o+i+Z+b,"areaCode":k,"contractNbillcode":null,"skuIdList":$?[{"skuId":+$,"goodsNum":+G}]:[],"giftSkuIdList":[]}]}(e);var t={"rsSkuListStr":JSON.stringify(ee.current)};le(t).then((function(e){oe.current.totalDiscountPrice=e.dataObj.totalDiscountPrice,oe.current.contractSettlOpno=e.dataObj.contractSettlOpno,me()}))};return{"savePayPrice":function savePayPrice(){if(!(0,C.Z)(H)){(function(){var e=oe.current,t=e.contractSettlOpno,n=e.totalDiscountPrice;t&&0!=n&&Y.current.push({"contractSettlBlance":"UR","contractPmode":"0","contractSettlPmoney":n,"contractSettlOpno":t})})(),W(ee.current,"[0].ocContractSettlList",[].concat((0,o.Z)(Y.current),(0,o.Z)(se.current)));var e={"orderDomainStr":JSON.stringify(ee.current)};(0,S.xK)(e).then((function(e){dist_p("".concat(de.paymentMode,"?code=").concat(e.dataObj.contractBillcode))}))}},"address":H,"list":T,"payState":oe,"coupon":q,"confirm":function confirm(e){var t=e.couponAmount,n=e.usercouponCode,o=e.promotionCode,i=e.discAmount;se.current=[{"contractSettlBlance":"COP","contractPmode":"0","contractSettlGmoney":+t,"contractSettlPmoney":+i,"contractSettlOpno":n,"contractSettlOpemo":o}],oe.current.discount=i,me()},"amount":re}}var Ve=Object.freeze({"__proto__":null,"useOrderResult":function useOrderResult(e){var t=this,n=(0,k.useState)({}),o=(0,Z.Z)(n,2),b=o[0],C=o[1],$=dist_a();return(0,k.useEffect)((function(){fe(t,void 0,void 0,(0,i.Z)().mark((function _callee40(){var t,n,o;return(0,i.Z)().wrap((function _callee40$(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,(0,S.B6)({"contractBillcode":e,"isLocalMock":!$});case 3:t=i.sent,n=t.sysRecode,o=t.dataObj,C({"sysRecode":n,"dataObj":void 0===o?{}:o}),i.next=13;break;case 10:i.prev=10,i.t0=i.catch(0),console.log(i.t0);case 13:case"end":return i.stop()}}),_callee40,null,[[0,10]])})))}),[]),{"result":b}}});function Qe(e,t){var n=(0,k.useState)(e),o=(0,Z.Z)(n,2),i=o[0],b=o[1];return(0,k.useEffect)((function(){var n=t.filter((function(e){return!((0,X.Z)(e)||(0,C.Z)(e))})).filter((function(e){return!Object.values(e).every((function(t){return(0,X.Z)(t)||(0,C.Z)(e)}))})),o=e;(0,C.Z)(n)||(o=n),b(o)}),[t]),i}var ze=[{"name":"全部","code":""},{"name":"待付款","code":"1"},{"name":"待发货","code":"2"},{"name":"待收货","code":"3"},{"name":"已完成","code":"4,5"},{"name":"已取消","code":"-1"}],He=function Ye(e){var t=ze.find((function(t){return t.code.includes(e+"")}))||{},n=t.name;return void 0===n?"":n},Ue={"1":[{"name":"取消订单","handler":"cancel"},{"name":"立即支付","handler":"pay"}],"3":[{"name":"物流信息","handler":"expressInfo"},{"name":"确认收货","handler":"confirmReceive"}],"4":[{"name":"去评价","handler":"evaluate"}],"5":[{"name":"已完成"}]};function et(e){var t=this,n=e.dataState,o=void 0===n?"":n,Z=e.contractId,b=e.contractBillcode,C=e.init,$=(0,k.useMemo)((function(){return Ue[o+""]||[]}),[o]),G={"expressInfo":function expressInfo(){dist_p("".concat(de.expressInfo,"?code=").concat(b))},"pay":function pay(){dist_p("".concat(de.paymentMode,"?code=").concat(b))},"evaluate":function evaluate(){dist_p("".concat(de.evaluateDetail,"?code=").concat(b))},"confirmReceive":function confirmReceive(){return fe(t,void 0,void 0,(0,i.Z)().mark((function _callee41(){return(0,i.Z)().wrap((function _callee41$(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,S.TG)({"contractBillcode":b});case 3:null==C||C(),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),_callee41,null,[[0,6]])})))},"cancel":function cancel(){return fe(t,void 0,void 0,(0,i.Z)().mark((function _callee42(){return(0,i.Z)().wrap((function _callee42$(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,S.E2)({"contractId":Z});case 3:null==C||C(),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),_callee42,null,[[0,6]])})))}};return{"handlerImpl":function handlerImpl(e){G[e]()},"operateArray":$}}var We={"goodsList":[],"dataState":"","packageRemark":"","goodsReceiptMem":"","goodsReceiptPhone":"","goodsReceiptArrdess":"","dataBmoney":0,"goodsPmoney":0,"contractInmoney":0,"contractBillcode":"","refundMoney":0,"gmtCreate":"","goodsNum":0,"contractId":0},Xe=function ot(e){var t=(0,k.useState)(""),n=(0,Z.Z)(t,2),o=n[0],b=n[1],$=dist_a(),G=(0,k.useState)(We),R=(0,Z.Z)(G,2),T=R[0],F=R[1];return(0,k.useEffect)((function(){fe(void 0,void 0,void 0,(0,i.Z)().mark((function _callee43(){var t;return(0,i.Z)().wrap((function _callee43$(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,S.Mf)({"contractBillcode":e,"isLocalMock":!$});case 3:if(t=n.sent,!(0,C.Z)(t)){n.next=6;break}return n.abrupt("return");case 6:b(He(t.dataState)),F(t),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(45,n.t0);case 12:case"end":return n.stop()}}),_callee43,null,[[0,9]])})))}),[]),{"orderDetail":T,"status":o}},tt=function nt(e){var t=(0,k.useState)({}),n=(0,Z.Z)(t,2),o=n[0],b=n[1],C=(0,k.useState)({}),$=(0,Z.Z)(C,2),G=$[0],R=$[1];return(0,k.useEffect)((function(){fe(void 0,void 0,void 0,(0,i.Z)().mark((function _callee44(){var t,n,o,Z;return(0,i.Z)().wrap((function _callee44$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,S.Mf)({"contractBillcode":e});case 2:return t=i.sent,b(t),n=(0,F.Z)(t,"packageList[0].expressCode",""),o=(0,F.Z)(t,"packageList[0].packageBillno"),i.next=8,(0,S.an)({"expressNo":o,"expressType":n});case 8:Z=i.sent,R(JSON.parse(Z.dataObj));case 10:case"end":return i.stop()}}),_callee44)})))}),[]),{"info":o,"detail":G}};function ct(){var e=this,t=(0,k.useState)(""),n=(0,Z.Z)(t,2),o=n[0],b=n[1],C=(0,k.useState)([]),$=(0,Z.Z)(C,2),G=$[0],R=$[1],T=dist_a();(0,k.useEffect)((function(){J()}),[]);var J=function d(){return fe(e,void 0,void 0,(0,i.Z)().mark((function _callee45(){var e,t;return(0,i.Z)().wrap((function _callee45$(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,S.N3)();case 3:e=n.sent,R(e||[]),t=(0,F.Z)(e,"[0].goodsClassCode"),b(t),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}}),_callee45,null,[[0,9]])})))};return{"activeKey":o,"navList":G,"flag":T,"setActiveKey":b}}var ut=function it(){var e=(0,k.useState)([]),t=(0,Z.Z)(e,2),n=t[0],o=t[1],b=(0,k.useRef)(1),C=(0,k.useState)(!1),$=(0,Z.Z)(C,2),G=$[0],R=$[1],T=(0,k.useState)(""),J=(0,Z.Z)(T,2),q=J[0],V=J[1],z=(0,k.useState)(!1),K=(0,Z.Z)(z,2),H=K[0],Q=K[1],U=(0,k.useState)(""),Y=(0,Z.Z)(U,2),W=Y[0],X=Y[1],ee=(0,k.useState)(!1),te=(0,Z.Z)(ee,2),ne=te[0],re=te[1];(0,k.useEffect)((function(){ae()}),[]);var ae=function v(){b.current=1,o([]),ce()},ce=function f(){return fe(void 0,void 0,void 0,(0,i.Z)().mark((function _callee46(){var e;return(0,i.Z)().wrap((function _callee46$(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,S.cF)({"row":10,"page":b.current,"collectType":0});case 3:e=t.sent,o((function(t){return t.concat((0,F.Z)(e,"list",[]))})),b.current+=1,t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",(console.log(t.t0),[]));case 10:case"end":return t.stop()}}),_callee46,null,[[0,7]])})))},oe=function h(){for(var e=[],t=0;t<n.length;t++)e.push(n[t].collectCode);return e.toString()};return{"collectionList":n,"edit":G,"setEdit":R,"getData":ce,"collectCodeStr":q,"getSelectItem":function getSelectItem(e){var t=e.detail.value;V(t.toString()),t.length===n.length?re(!0):(re(!1),V(""))},"delItem":function delItem(){return fe(void 0,void 0,void 0,(0,i.Z)().mark((function _callee47(){return(0,i.Z)().wrap((function _callee47$(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,S.Jt)({"collectCodeStr":q});case 3:b.current=1,ae(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),_callee47,null,[[0,7]])})))},"init":ae,"checked":H,"setChecked":Q,"handleSelectAll":function handleSelectAll(e){e.detail.value.length?(Q(!0),V(oe())):Q(!1)},"selectAll":W,"setSelectAll":X,"selectAllChecked":ne}},lt=function rt(e){var t=(0,k.useState)([]),n=(0,Z.Z)(t,2),b=n[0],C=n[1],$=(0,k.useRef)([]),G=(0,k.useRef)({}),R=dist_a();(0,k.useEffect)((function(){fe(void 0,void 0,void 0,(0,i.Z)().mark((function _callee48(){return(0,i.Z)().wrap((function _callee48$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:return e.next=4,T();case 4:case"end":return e.stop()}}),_callee48)})))}),[]);var T=function s(){return fe(void 0,void 0,void 0,(0,i.Z)().mark((function _callee49(){var t,n,o,Z,b,k,$,T;return(0,i.Z)().wrap((function _callee49$(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,(0,S.Mf)({"contractBillcode":e,"isLocalMock":!R});case 3:t=i.sent,n=J((0,F.Z)(t,"goodsList",[])),o=n[0],Z=o.contractBillcode,b=o.memberBcode,k=o.memberBname,$=o.memberCode,T=o.memberName,G.current={"contractBillcode":Z,"memberBcode":b,"memberBname":k,"memberCode":$,"memberName":T},C(n),i.next=17;break;case 14:i.prev=14,i.t0=i.catch(0),console.log(i.t0);case 17:case"end":return i.stop()}}),_callee49,null,[[0,14]])})))},J=function l(e){for(var t=0;t<e.length;t++)e[t].upImgLength=!0,e[t].upImg=[],e[t].evaluateGoodsImgs="",e[t].evaluateScopeList=[$.current[0]],e[t].evaluateGoodsContent="";return e},q=function u(){return fe(void 0,void 0,void 0,(0,i.Z)().mark((function _callee50(){var e;return(0,i.Z)().wrap((function _callee50$(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,S.dG)({"applyTarget":"goods","isLocalMock":!R});case 3:e=t.sent,$.current=e[0].templateValuesReList,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),_callee50,null,[[0,7]])})))};return{"orderInfo":b,"changeStar":function changeStar(e,t){for(var n=(0,o.Z)(b),i=[],Z=0;Z<t;Z++)i.push($.current[Z]);n[e].evaluateScopeList=i,C(n)},"Submit":function Submit(){return fe(void 0,void 0,void 0,(0,i.Z)().mark((function _callee51(){return(0,i.Z)().wrap((function _callee51$(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,S.id)({"paramStr":JSON.stringify(b)});case 3:return e.next=5,(0,S.kJ)(Object.assign({"paramStr":JSON.stringify(b)},G.current));case 5:return e.next=7,dist_p("".concat(de.order));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),_callee51,null,[[0,9]])})))},"changeContent":function changeContent(e,t){var n=(0,o.Z)(b);n[e].evaluateGoodsContent=t.detail.value,C(n)}}},ft=function dt(){var e=(0,k.useState)([]),t=(0,Z.Z)(e,2),n=t[0],o=t[1],b=(0,k.useRef)(1),C=(0,k.useState)(!1),$=(0,Z.Z)(C,2),G=$[0],R=$[1],T=(0,k.useState)(""),J=(0,Z.Z)(T,2),q=J[0],V=J[1],z=(0,k.useState)(!1),K=(0,Z.Z)(z,2),H=K[0],Q=K[1],U=(0,k.useState)(""),Y=(0,Z.Z)(U,2),W=Y[0],X=Y[1],ee=(0,k.useState)(!1),te=(0,Z.Z)(ee,2),ne=te[0];te[1];(0,k.useEffect)((function(){re()}),[]);var re=function v(){b.current=1,o([]),ae()},ae=function f(){return fe(void 0,void 0,void 0,(0,i.Z)().mark((function _callee52(){var e;return(0,i.Z)().wrap((function _callee52$(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,S.WY)({"row":500,"page":b.current});case 3:if(0!==(e=t.sent).length){t.next=6;break}return t.abrupt("return");case 6:o((0,F.Z)(e,"list",[])),t.next=12;break;case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",(console.log(t.t0),[]));case 12:case"end":return t.stop()}}),_callee52,null,[[0,9]])})))};return{"footprintList":n,"edit":G,"setEdit":R,"getData":ae,"getSelectItem":function getSelectItem(e){var t=e.detail.value;console.log(43,t),V(t.toString())},"delItem":function delItem(){return fe(void 0,void 0,void 0,(0,i.Z)().mark((function _callee53(){return(0,i.Z)().wrap((function _callee53$(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,S.M7)({"footprintCodeStr":q});case 3:b.current=1,re(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),_callee53,null,[[0,7]])})))},"init":re,"checked":H,"setChecked":Q,"handleSelectAll":function handleSelectAll(e){e.detail.value.length?(Q(!0),setCollectCodeStr(function h(){for(var e=[],t=0;t<collectionList.length;t++)e.push(collectionList[t].collectCode);return e.toString()}())):Q(!1)},"selectAll":W,"setSelectAll":X,"selectAllChecked":ne}};function at(e){var t=this,n=(0,k.useState)([]),o=(0,Z.Z)(n,2),b=o[0],C=o[1];return(0,k.useEffect)((function(){fe(t,void 0,void 0,(0,i.Z)().mark((function _callee54(){var t,n;return(0,i.Z)().wrap((function _callee54$(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,(0,S.v3)({"page":1,"rows":e,"dataState":1});case 3:t=o.sent,n=(0,F.Z)(t,"list",[]),C(n),o.next=10;break;case 8:o.prev=8,o.t0=o.catch(0);case 10:case"end":return o.stop()}}),_callee54,null,[[0,8]])})))}),[e]),{"content":(0,k.useMemo)((function(){return b.map((function(e){return e.noticeTitle}))}),[b]),"navigator":function navigator(e){var t=(0,F.Z)(b,"".concat(e,".noticeId"),"");dist_p("".concat(de.noticeDetail,"?noticeId=").concat(t))}}}function st(e){if(e)return e.includes("/pages/")?function _(e){return w(this,void 0,void 0,(0,i.Z)().mark((function _callee3(){return(0,i.Z)().wrap((function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:if(!dist_a()){t.next=4;break}return t.next=3,dist_d();case 3:t.sent.switchTab({"url":e});case 4:case"end":return t.stop()}}),_callee3)})))}(e):dist_p(e)}}}]);