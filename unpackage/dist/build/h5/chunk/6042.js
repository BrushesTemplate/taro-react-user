"use strict";(self.webpackJsonp=self.webpackJsonp||[]).push([[6042],{"6042":function(e,t,n){n.r(t),n.d(t,{"default":function(){return S}});var c=n(7690),o=n(4343),i=n(2763),Z=n(10),b=n(2922),k=function ExpressInfoTop(e){var t=e.code,n=(0,i.le)(t),c=n.info,k=n.detail,_=(0,Z.Z)(c,"packageList[0].contractGoodsList[0].dataPic"),S=(0,Z.Z)(c,"packageList.length"),C=(0,Z.Z)(c,"packageList[0].expressName"),$=(0,Z.Z)(c,"packageList[0].packageBillno"),G=(0,Z.Z)(k,"result");return(0,b.jsxs)(o.G7,{"className":"expressInfoTop","children":[(0,b.jsx)(o.G7,{"className":"goodsImg","style":{"backgroundImage":"url(".concat(_,")")},"children":(0,b.jsxs)(o.G7,{"className":"tip","children":["共 ",S," 件商品"]})}),(0,b.jsxs)(o.G7,{"className":"list","children":[G,(0,b.jsxs)(o.G7,{"className":"listItem","children":["物流状态：",G||"暂时无法获取物流状态"]}),(0,b.jsxs)(o.G7,{"className":"listItem","children":["快递公司：",C]}),(0,b.jsxs)(o.G7,{"className":"listItem","children":["快递单号：",$]})]})]})},_=function ExpressInfoStep(e){var t=e.code,n=(0,i.le)(t).detail,c=(0,Z.Z)(n,"message"),k=(0,Z.Z)(n,"data");return(0,b.jsx)(o.G7,{"className":"expressInfoStep","children":"ok"===c?k.map((function(e,t){return(0,b.jsxs)(o.G7,{"className":"step","children":[(0,b.jsx)(o.G7,{"className":"time","children":e.time}),(0,b.jsx)(o.G7,{"children":e.context})]},t)})):(0,b.jsx)(o.G7,{"className":"noInfo","children":c})})},S=function Index(){var e=c.ZP.useRouter().params;return(0,b.jsxs)(o.G7,{"className":"expressInfo","children":[(0,b.jsx)(k,{"code":e.code}),(0,b.jsx)(_,{"code":e.code})]})}},"5847":function(e,t,n){n.d(t,{"Z":function(){return Oe}});var c=n(9743),o=n(5129),i="__lodash_hash_undefined__";var Z=function setCacheAdd(e){return this.__data__.set(e,i),this};var b=function setCacheHas(e){return this.__data__.has(e)};function SetCache(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new o.Z;++t<n;)this.add(e[t])}SetCache.prototype.add=SetCache.prototype.push=Z,SetCache.prototype.has=b;var k=SetCache;var _=function arraySome(e,t){for(var n=-1,c=null==e?0:e.length;++n<c;)if(t(e[n],n,e))return!0;return!1};var S=function cacheHas(e,t){return e.has(t)},C=1,$=2;var G=function equalArrays(e,t,n,c,o,i){var Z=n&C,b=e.length,G=t.length;if(b!=G&&!(Z&&G>b))return!1;var R=i.get(e),E=i.get(t);if(R&&E)return R==t&&E==e;var F=-1,T=!0,q=n&$?new k:void 0;for(i.set(e,t),i.set(t,e);++F<b;){var J=e[F],V=t[F];if(c)var U=Z?c(V,J,F,t,e,i):c(J,V,F,e,t,i);if(void 0!==U){if(U)continue;T=!1;break}if(q){if(!_(t,(function(e,t){if(!S(q,t)&&(J===e||o(J,e,n,c,i)))return q.push(t)}))){T=!1;break}}else if(J!==V&&!o(J,V,n,c,i)){T=!1;break}}return i.delete(e),i.delete(t),T},R=n(7221),E=n(5930),F=n(2898);var T=function mapToArray(e){var t=-1,n=Array(e.size);return e.forEach((function(e,c){n[++t]=[c,e]})),n};var q=function setToArray(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},J=1,V=2,U="[object Boolean]",z="[object Date]",K="[object Error]",H="[object Map]",Q="[object Number]",Y="[object RegExp]",W="[object Set]",X="[object String]",ee="[object Symbol]",te="[object ArrayBuffer]",ne="[object DataView]",re=R.Z?R.Z.prototype:void 0,ae=re?re.valueOf:void 0;var ce=function equalByTag(e,t,n,c,o,i,Z){switch(n){case ne:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case te:return!(e.byteLength!=t.byteLength||!i(new E.Z(e),new E.Z(t)));case U:case z:case Q:return(0,F.Z)(+e,+t);case K:return e.name==t.name&&e.message==t.message;case Y:case X:return e==t+"";case H:var b=T;case W:var k=c&J;if(b||(b=q),e.size!=t.size&&!k)return!1;var _=Z.get(e);if(_)return _==t;c|=V,Z.set(e,t);var S=G(b(e),b(t),c,o,i,Z);return Z.delete(e),S;case ee:if(ae)return ae.call(e)==ae.call(t)}return!1},oe=n(2896),se=1,ue=Object.prototype.hasOwnProperty;var ie=function equalObjects(e,t,n,c,o,i){var Z=n&se,b=(0,oe.Z)(e),k=b.length;if(k!=(0,oe.Z)(t).length&&!Z)return!1;for(var _=k;_--;){var S=b[_];if(!(Z?S in t:ue.call(t,S)))return!1}var C=i.get(e),$=i.get(t);if(C&&$)return C==t&&$==e;var G=!0;i.set(e,t),i.set(t,e);for(var R=Z;++_<k;){var E=e[S=b[_]],F=t[S];if(c)var T=Z?c(F,E,S,t,e,i):c(E,F,S,e,t,i);if(!(void 0===T?E===F||o(E,F,n,c,i):T)){G=!1;break}R||(R="constructor"==S)}if(G&&!R){var q=e.constructor,J=t.constructor;q==J||!("constructor"in e)||!("constructor"in t)||"function"==typeof q&&q instanceof q&&"function"==typeof J&&J instanceof J||(G=!1)}return i.delete(e),i.delete(t),G},le=n(2926),de=n(3755),ve=n(9578),me=n(6732),he=1,ge="[object Arguments]",Ze="[object Array]",xe="[object Object]",ye=Object.prototype.hasOwnProperty;var we=function baseIsEqualDeep(e,t,n,o,i,Z){var b=(0,de.Z)(e),k=(0,de.Z)(t),_=b?Ze:(0,le.Z)(e),S=k?Ze:(0,le.Z)(t),C=(_=_==ge?xe:_)==xe,$=(S=S==ge?xe:S)==xe,R=_==S;if(R&&(0,ve.Z)(e)){if(!(0,ve.Z)(t))return!1;b=!0,C=!1}if(R&&!C)return Z||(Z=new c.Z),b||(0,me.Z)(e)?G(e,t,n,o,i,Z):ce(e,t,_,n,o,i,Z);if(!(n&he)){var E=C&&ye.call(e,"__wrapped__"),F=$&&ye.call(t,"__wrapped__");if(E||F){var T=E?e.value():e,q=F?t.value():t;return Z||(Z=new c.Z),i(T,q,n,o,Z)}}return!!R&&(Z||(Z=new c.Z),ie(e,t,n,o,i,Z))},Ne=n(494);var Oe=function baseIsEqual(e,t,n,c,o){return e===t||(null==e||null==t||!(0,Ne.Z)(e)&&!(0,Ne.Z)(t)?e!=e&&t!=t:we(e,t,n,c,baseIsEqual,o))}},"10":function(e,t,n){var c=n(5054);t.Z=function get(e,t,n){var o=null==e?void 0:(0,c.Z)(e,t);return void 0===o?n:o}},"5323":function(e,t,n){n.d(t,{"Z":function(){return ge}});var c=n(2547);var o=function arrayAggregator(e,t,n,c){for(var o=-1,i=null==e?0:e.length;++o<i;){var Z=e[o];t(c,Z,n(Z),e)}return c};var i=function createBaseFor(e){return function(t,n,c){for(var o=-1,i=Object(t),Z=c(t),b=Z.length;b--;){var k=Z[e?b:++o];if(!1===n(i[k],k,i))break}return t}}(),Z=n(8445);var b=function baseForOwn(e,t){return e&&i(e,t,Z.Z)},k=n(4864);var _=function createBaseEach(e,t){return function(n,c){if(null==n)return n;if(!(0,k.Z)(n))return e(n,c);for(var o=n.length,i=t?o:-1,Z=Object(n);(t?i--:++i<o)&&!1!==c(Z[i],i,Z););return n}}(b);var S=function baseAggregator(e,t,n,c){return _(e,(function(e,o,i){t(c,e,n(e),i)})),c},C=n(517),$=n(9743),G=n(5847),R=1,E=2;var F=function baseIsMatch(e,t,n,c){var o=n.length,i=o,Z=!c;if(null==e)return!i;for(e=Object(e);o--;){var b=n[o];if(Z&&b[2]?b[1]!==e[b[0]]:!(b[0]in e))return!1}for(;++o<i;){var k=(b=n[o])[0],_=e[k],S=b[1];if(Z&&b[2]){if(void 0===_&&!(k in e))return!1}else{var C=new $.Z;if(c)var F=c(_,S,k,e,t,C);if(!(void 0===F?(0,G.Z)(S,_,R|E,c,C):F))return!1}}return!0},T=n(4156);var q=function isStrictComparable(e){return e==e&&!(0,T.Z)(e)};var J=function getMatchData(e){for(var t=(0,Z.Z)(e),n=t.length;n--;){var c=t[n],o=e[c];t[n]=[c,o,q(o)]}return t};var V=function matchesStrictComparable(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var U=function baseMatches(e){var t=J(e);return 1==t.length&&t[0][2]?V(t[0][0],t[0][1]):function(n){return n===e||F(n,e,t)}},z=n(10);var K=function baseHasIn(e,t){return null!=e&&t in Object(e)},H=n(2030),Q=n(2554),Y=n(3755),W=n(4802),X=n(6838),ee=n(8537);var te=function hasPath(e,t,n){for(var c=-1,o=(t=(0,H.Z)(t,e)).length,i=!1;++c<o;){var Z=(0,ee.Z)(t[c]);if(!(i=null!=e&&n(e,Z)))break;e=e[Z]}return i||++c!=o?i:!!(o=null==e?0:e.length)&&(0,X.Z)(o)&&(0,W.Z)(Z,o)&&((0,Y.Z)(e)||(0,Q.Z)(e))};var ne=function hasIn(e,t){return null!=e&&te(e,t,K)},re=n(9736),ae=1,ce=2;var oe=function baseMatchesProperty(e,t){return(0,re.Z)(e)&&q(t)?V((0,ee.Z)(e),t):function(n){var c=(0,z.Z)(n,e);return void 0===c&&c===t?ne(n,e):(0,G.Z)(t,c,ae|ce)}},se=n(1e3);var ue=function baseProperty(e){return function(t){return null==t?void 0:t[e]}},ie=n(5054);var le=function basePropertyDeep(e){return function(t){return(0,ie.Z)(t,e)}};var de=function property(e){return(0,re.Z)(e)?ue((0,ee.Z)(e)):le(e)};var ve=function baseIteratee(e){return"function"==typeof e?e:null==e?se.Z:"object"==(0,C.Z)(e)?(0,Y.Z)(e)?oe(e[0],e[1]):U(e):de(e)};var me=function createAggregator(e,t){return function(n,c){var i=(0,Y.Z)(n)?o:S,Z=t?t():{};return i(n,e,ve(c,2),Z)}},he=Object.prototype.hasOwnProperty,ge=me((function(e,t,n){he.call(e,n)?e[n].push(t):(0,c.Z)(e,n,[t])}))},"3358":function(e,t){t.Z=function isUndefined(e){return void 0===e}},"2763":function(e,t,n){n.d(t,{"g3":function(){return ve},"EK":function(){return X},"i4":function(){return st},"UJ":function(){return Ae},"Xp":function(){return Be},"ww":function(){return ue},"At":function(){return ce},"DC":function(){return se},"z2":function(){return Le},"v4":function(){return je},"Bi":function(){return ge},"VI":function(){return xe},"Qk":function(){return Ue},"rs":function(){return ye},"e9":function(){return Qe},"bY":function(){return Me},"ke":function(){return ze},"le":function(){return Ve},"oi":function(){return He},"M7":function(){return ct},"qq":function(){return oe},"tn":function(){return we},"dz":function(){return at},"br":function(){return Te},"MQ":function(){return et},"nt":function(){return qe},"h5":function(){return De},"ss":function(){return Ke},"oR":function(){return me}});var c=n(766),o=n(8548),i=n(1760),Z=n(2922),b=n(3464),k=n(4358),_=n(8192),S=n(10),C=n(5323),$=n(6812),G=n(8239),R=n(807),E=n(1150),F=n(2030),T=n(4802),q=n(4156),J=n(8537);var V=function baseSet(e,t,n,c){if(!(0,q.Z)(e))return e;for(var o=-1,i=(t=(0,F.Z)(t,e)).length,Z=i-1,b=e;null!=b&&++o<i;){var k=(0,J.Z)(t[o]),_=n;if("__proto__"===k||"constructor"===k||"prototype"===k)return e;if(o!=Z){var S=b[k];void 0===(_=c?c(S,k,b):void 0)&&(_=(0,q.Z)(S)?S:(0,T.Z)(t[o+1])?[]:{})}(0,E.Z)(b,k,_),b=b[k]}return e};var U=function set(e,t,n){return null==e?e:V(e,t,n)},z=n(3358);function pe(e,t){var n=(0,b.createContext)(null),c=(0,b.createContext)(null);return[function(o){var k=o.children,_=(0,b.useReducer)(e,t),S=(0,i.Z)(_,2),C=S[0],$=S[1];return(0,Z.jsx)(n.Provider,Object.assign({"value":$},{"children":(0,Z.jsx)(c.Provider,Object.assign({"value":C},{"children":k}))}))},function(){return(0,b.useContext)(c)},function(){return(0,b.useContext)(n)}]}var K=pe((function(e,t){switch(t.type){case"plus":return Object.assign(Object.assign({},e),{"count":e.count+1});case"minus":return Object.assign(Object.assign({},e),{"count":e.count-1});case"select":case"initGoods":case"popupImpl":return Object.assign(Object.assign({},e),t.payload);default:return e}}),{"count":1,"orderType":0,"isNeedButton":!1,"popupVisible":!1,"goodsNum":1,"goodsCode":"","spec":[]}),H=(0,i.Z)(K,3),Q=H[0],Y=H[1],W=H[2],X=Object.freeze({"__proto__":null,"StoreProvider":Q,"useStore":Y,"useDispatchImpl":W});function fe(e,t,n,c){return new(n||(n=Promise))((function(o,i){function r(e){try{a(c.next(e))}catch(e){i(e)}}function d(e){try{a(c.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,d)}a((c=c.apply(e,t||[])).next())}))}var ee=(0,_.dU)(),te=function Ce(e,t){return fe(void 0,void 0,void 0,(0,o.Z)().mark((function _callee(){var n;return(0,o.Z)().wrap((function _callee$(c){for(;;)switch(c.prev=c.next){case 0:return n={"specStr":JSON.stringify(e),"goodsCode":t},c.next=3,(0,k.mh)(n);case 3:return c.abrupt("return",c.sent);case 4:case"end":return c.stop()}}),_callee)})))},ne=function be(e,t){return fe(void 0,void 0,void 0,(0,o.Z)().mark((function _callee2(){var n;return(0,o.Z)().wrap((function _callee2$(c){for(;;)switch(c.prev=c.next){case 0:return n={"skuId":e,"goodsNum":t},c.next=3,(0,k.Em)(n);case 3:return c.abrupt("return",c.sent);case 4:case"end":return c.stop()}}),_callee2)})))},re=function Se(e,t){return fe(void 0,void 0,void 0,(0,o.Z)().mark((function _callee3(){var n;return(0,o.Z)().wrap((function _callee3$(c){for(;;)switch(c.prev=c.next){case 0:return n={"skuId":e,"goodsNum":t,"isLocalMock":!ee},c.next=3,(0,k.EP)(n);case 3:return c.abrupt("return",c.sent);case 4:case"end":return c.stop()}}),_callee3)})))},ae=function ke(e){return fe(void 0,void 0,void 0,(0,o.Z)().mark((function _callee4(){return(0,o.Z)().wrap((function _callee4$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,k.O6)(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),_callee4)})))},ce={"index":"/pages/index/index","shopping":"/pages/shopping/index","classify":"/pages/classify/index","my":"/pages/my/index","order":"/subpackage/orderlist/index","orderDetail":"/subpackage/orderdetail/index","search":"/subpackage/search/index","goodList":"/subpackage/goodlist/index","goodDetail":"/subpackage/gooddetail/index","confirm":"/subpackage/orderconfirm/index","result":"/subpackage/result/index","rate":"/subpackage/rate/index","paymentMode":"/subpackage/paymentmode/index","expressInfo":"/subpackage/expressinfo/index","collectionList":"/subpackage/collectionlist/index","footprint":"/subpackage/footprint/index","evaluateDetail":"/subpackage/ratedetail/index","myAgreementList":"/subpackage/myagreementlist/index","mySetting":"/subpackage/mysetting/index","noticeDetail":"/subpackage/noticedetail/index","bindIphone":"/append/bindIphone/index","addressEditor":"/subpackage/addresseditor/index","addressList":"/subpackage/addresslist/index","couponList":"/subpackage/couponlist/index","setting":"/subpackage/setting/index","register":"/account/register/index","accountLogin":"/account/accountLogin/index","mobileLogin":"/account/mobileLogin/index","forgetPwd":"/account/forgetPwd/index","agreement":"/account/agreement/index","auth":"/account/auth/index","confirmPhone":"/account/confirmPhone/index","bindPhone":"/account/bindPhone/index"};function Le(){var e=this,t=Y(),n=t.count,c=t.spec,i=t.orderType,Z=t.popupVisible,b=t.isNeedButton,k=t.goodsCode,C=W(),$=function d(){C({"type":"popupImpl","payload":{"popupVisible":!Z}})};return{"count":n,"spec":c,"popupVisible":Z,"isNeedButton":b,"handleChooseSize":function handleChooseSize(e,t){c[t]=e,C({"type":"select","payload":{"spec":c}})},"handleStep":function handleStep(e){0!==n||"minus"!==e?C({"type":e}):(0,_.Fu)("不能小于0","none")},"addShoppingImpl":function addShoppingImpl(){0===i?function a(){fe(e,void 0,void 0,(0,o.Z)().mark((function _callee5(){var e,t,i;return(0,o.Z)().wrap((function _callee5$(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,te(c,k);case 3:return e=o.sent,t=(0,S.Z)(e,"dataObj.skuId"),o.next=7,ne(t,n);case 7:return i=o.sent,o.next=10,(0,_.Fu)(i.msg||"添加成功");case 10:$(),o.next=17;break;case 13:return o.prev=13,o.t0=o.catch(0),o.next=17,(0,_.Mu)("无法登录");case 17:case"end":return o.stop()}}),_callee5,null,[[0,13]])})))}():function s(){fe(e,void 0,void 0,(0,o.Z)().mark((function _callee6(){var e,t;return(0,o.Z)().wrap((function _callee6$(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,te(c,k);case 2:e=o.sent,t=(0,S.Z)(e,"dataObj.skuId"),(0,_.Ct)("".concat(ce.confirm,"?skuId=").concat(t,"&goodsNum=").concat(n));case 5:case"end":return o.stop()}}),_callee6)})))}()},"popupHandler":$}}var oe=function Ie(e){var t=(0,b.useState)({"goodsRemark":"","pricesetNprice":0}),n=(0,i.Z)(t,2),c=n[0],Z=n[1],G=(0,b.useState)([]),R=(0,i.Z)(G,2),E=R[0],F=R[1],T=(0,b.useState)({}),q=(0,i.Z)(T,2),J=q[0],V=q[1],U=(0,b.useState)([]),z=(0,i.Z)(U,2),K=z[0],H=z[1],Q=(0,b.useState)(1),Y=(0,i.Z)(Q,2),X=Y[0],ee=Y[1],te=(0,b.useState)(!1),ne=(0,i.Z)(te,2),re=ne[0],ae=ne[1],ce=(0,b.useState)([]),oe=(0,i.Z)(ce,2),se=oe[0],ue=oe[1],ie=(0,b.useState)([]),le=(0,i.Z)(ie,2),de=le[0],ve=le[1],me=(0,b.useState)([]),he=(0,i.Z)(me,2),ge=he[0],Ze=he[1],xe=(0,b.useRef)({}),ye=W();(0,b.useEffect)((function(){fe(void 0,void 0,void 0,(0,o.Z)().mark((function _callee7(){return(0,o.Z)().wrap((function _callee7$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we();case 2:case"end":return e.stop()}}),_callee7)})))}),[]);var we=function x(){return fe(void 0,void 0,void 0,(0,o.Z)().mark((function _callee8(){var t,n,c,i,b,S,C,$;return(0,o.Z)().wrap((function _callee8$(o){for(;;)switch(o.prev=o.next){case 0:return t=(0,_.dU)(),o.prev=1,o.next=4,(0,k.oy)({"skuCode":e,"isLocalMock":!t});case 4:n=o.sent,c=function(e){var t={"skuNo":e.skuNo||"","skuCode":e.rsSkuDomainList[0].skuCode||"","classtreeCode":e.classtreeCode||"","brandCode":e.brandCode||"","pntreeCode":e.pntreeCode||"","memberCode":e.memberCode||""},n=e.rsGoodsFileDomainList,c=void 0===n?[]:n,o=e.rsSpecValueDomainList,i=void 0===o?[]:o,Z=e.goodsCode;return{"pListParams":t,"arr":c,"skuList":i,"goodsCode":void 0===Z?"":Z,"goodsNum":e.goodsNum}}(n),i=c.pListParams,b=c.arr,S=c.skuList,C=c.goodsCode,$=c.goodsNum,xe.current=i,Z(n),Oe(b),Ne(S,C,$),Ae(i,C,n),o.next=17;break;case 14:o.prev=14,o.t0=o.catch(1),console.log(59,o.t0);case 17:case"end":return o.stop()}}),_callee8,null,[[1,14]])})))},Ne=function M(e,t,n){var c=function(e){var t=(0,C.Z)(e,"specName");return t?Object.keys(t).map((function(e){return{"skuName":e,"skuOption":t[e]}})):[]}(e);ue(c);var o=c.map((function(e){return(0,S.Z)(e,"skuOption[0].specValueValue")}));ye({"type":"initGoods","payload":{"spec":o,"goodsCode":t,"goodsNum":n}})},Oe=function j(e){if(!(0,$.Z)(e)){var t=e.map((function(e){return{"imgUrl":e.goodsFileUrl,"link":""}}));H(t)}},De=function B(e){return(0,k.q)(e)},Be=function A(e){return(0,k.tu)({"goodsCode":e,"page":1,"rows":10})},Ae=function w(e,t,n){return fe(void 0,void 0,void 0,(0,o.Z)().mark((function _callee9(){var c,Z,b,_,S,C,$,G,R,E;return(0,o.Z)().wrap((function _callee9$(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Promise.all([(E=e,(0,k.jQ)(E)),Be(t),De(e),(R=n,(0,k.lH)({"footprintType":0,"footprintOpcode":R.rsSkuDomainList[0].skuCode,"footprintOppic":R.dataPic,"footprintOpcont":R.goodsName,"footprintOpnum":R.pricesetNprice,"footprintOpurl":""}))]);case 3:c=o.sent,Z=(0,i.Z)(c,3),b=Z[0],_=void 0===b?[]:b,S=Z[1],C=void 0===S?{}:S,$=Z[2],G=void 0===$?[]:$,F(_),ve(C.list),Ze(G),o.next=17;break;case 14:o.prev=14,o.t0=o.catch(0),console.log(123,o.t0);case 17:case"end":return o.stop()}}),_callee9,null,[[0,14]])})))};return{"promotionArr":E,"checkCollectionObj":J,"setCheckCollectionObj":V,"sliderArr":K,"tabActive":X,"setTabActive":ee,"popupVisible":re,"setPopupVisible":ae,"goods":c,"goodSku":se,"evaluateArr":de,"coupon":ge,"queryCouponImpl":function queryCouponImpl(){return fe(void 0,void 0,void 0,(0,o.Z)().mark((function _callee10(){var e;return(0,o.Z)().wrap((function _callee10$(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,De(xe.current);case 3:e=t.sent,Ze(e),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),_callee10,null,[[0,7]])})))}}},se=function Pe(){var e=(0,b.useState)(!1),t=(0,i.Z)(e,2),n=t[0],c=t[1];return{"save":function save(e){return fe(void 0,void 0,void 0,(0,o.Z)().mark((function _callee11(){return(0,o.Z)().wrap((function _callee11$(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=9;break}return t.prev=1,t.next=4,(0,k.Oi)(e);case 4:c(!0),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(1);case 9:case"end":return t.stop()}}),_callee11,null,[[1,7]])})))},"isPick":n}},ue={"num":0},ie="00000017";function Me(e,t,n){var c=this,Z=t.useForm(),S=(0,i.Z)(Z,1)[0],C=(0,b.useState)("1"),$=(0,i.Z)(C,2),G=$[0],R=$[1],E=(0,b.useState)(!0),F=(0,i.Z)(E,2),T=F[0],q=F[1],J=(0,b.useState)({"provinceCode":"","provinceName":"","cityCode":"","cityName":"","areaCode":"","areaName":""}),V=(0,i.Z)(J,2),U=V[0],z=V[1];(0,b.useEffect)((function(){e||!n?K():(S.setFieldValue("addressDefault",G),q(!1))}),[]);var K=function p(){(0,k.Kn)({"addressId":e,"isLocalMock":!n}).then((function(e){var t={"provinceCode":e.provinceCode,"cityCode":e.cityCode,"areaCode":e.areaCode,"provinceName":e.provinceName,"cityName":e.cityName,"areaName":e.areaName};z(t),R(e.addressDefault),S.setFieldValue("addressMember",e.addressMember),S.setFieldValue("addressPhone",e.addressPhone),S.setFieldValue("addressDetail",e.addressDetail),S.setFieldValue("area",t),S.setFieldValue("addressDefault",e.addressDefault),S.validateFields(),q(!1)}))};return{"skullShow":T,"form":S,"area":U,"setArea":z,"userCode":ie,"defaultAddress":G,"handleArea":function handleArea(e,t){var n={"provinceCode":"","cityCode":"","areaCode":"","provinceName":"","cityName":"","areaName":""};if("weapp"===e){var c=t.detail.code,o=t.detail.value;n.provinceCode=c[0],n.cityCode=c[1],n.areaCode=c[2],n.provinceName=o[0],n.cityName=o[1],n.areaName=o[2]}else"h5"===e&&(n.provinceCode=t.provinceCode,n.cityCode=t.cityCode,n.areaCode=t.areaCode,n.provinceName=t.provinceName,n.cityName=t.cityName,n.areaName=t.areaName);z(n),S.setFieldValue("area",n),S.validateFields()},"handleDefaultAddress":function handleDefaultAddress(e,t){"h5"===e?R(t?"1":"0"):"weapp"===e&&R(t.detail.value?"1":"0")},"handleFinish":function handleFinish(t){return fe(c,void 0,void 0,(0,o.Z)().mark((function _callee12(){var n,c;return(0,o.Z)().wrap((function _callee12$(o){for(;;)switch(o.prev=o.next){case 0:return t.addressDefault=t.addressDefault?"1":"0",delete(n=Object.assign(t,t.area)).area,o.prev=3,o.next=6,c=Object.assign(Object.assign({},n),{"userCode":ie}),e?(0,k.y3)(Object.assign({"addressId":e},c)):(0,k.Mw)(c);case 6:(0,_.yZ)(-1),o.next=11;break;case 9:o.prev=9,o.t0=o.catch(3);case 11:case"end":return o.stop()}}),_callee12,null,[[3,9]])})))}}}function je(e){var t=this,n=(0,b.useState)([]),Z=(0,i.Z)(n,2),S=Z[0],C=Z[1],$=(0,b.useState)(!0),G=(0,i.Z)($,2),R=G[0],E=G[1];(0,b.useEffect)((function(){F()}),[e]);var F=function d(){return fe(t,void 0,void 0,(0,o.Z)().mark((function _callee13(){var e,t;return(0,o.Z)().wrap((function _callee13$(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,_.dU)(),n.next=3,(0,k.d1)({"isLocalMock":!e});case 3:t=n.sent,C(t),E(!1);case 5:case"end":return n.stop()}}),_callee13)})))},T=function a(e,t){var n=t[e];return t[e]=t[0],t[e].addressDefault="0",t[0]=n,t[0].addressDefault="1",(0,c.Z)(t)};return{"list":S,"skullShow":R,"delAddress":function delAddress(e){(0,_.dU)()&&(0,_.Bj)().showModal({"title":"提示","content":"确认删除该地址吗？","success":function success(n){return fe(t,void 0,void 0,(0,o.Z)().mark((function _callee14(){return(0,o.Z)().wrap((function _callee14$(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null==n?void 0:n.confirm,!t.t0){t.next=6;break}return t.next=4,(0,k._N)({"addressId":e.addressId});case 4:return t.next=6,F();case 6:case"end":return t.stop()}}),_callee14)})))}})},"setDefault":function setDefault(e,n){return fe(t,void 0,void 0,(0,o.Z)().mark((function _callee15(){var t,c,i,Z,b,_,$,G,R,E,q,J,V;return(0,o.Z)().wrap((function _callee15$(o){for(;;)switch(o.prev=o.next){case 0:if("1"===e.addressDefault){o.next=7;break}return t=e.addressMember,c=e.addressPhone,i=e.provinceCode,Z=e.provinceName,b=e.cityCode,_=e.cityName,$=e.areaCode,G=e.areaName,R=e.addressDetail,E=e.addressId,q=e.addressCode,J=e.dataState,V={"addressMember":t,"addressPhone":c,"provinceCode":i,"provinceName":Z,"cityCode":b,"cityName":_,"areaCode":$,"areaName":G,"addressDetail":R,"addressId":E,"addressCode":q,"dataState":J,"addressDefault":"1"},C(T(n,S)),o.next=5,(0,k.y3)(V);case 5:return o.next=7,F();case 7:case"end":return o.stop()}}),_callee15)})))},"getAddressList":F}}var le=pe((function(e,t){switch(t.type){case"select":return Object.assign(Object.assign({},e),{"select":t.payload});case"update":return Object.assign(Object.assign({},e),t.payload);default:return e}}),{"id":"","count":0,"loading":!1,"select":[]}),de=(0,i.Z)(le,3),ve=de[0],me=de[1],he=de[2],ge=function Ge(){var e=he();return{"select":me().select,"onChange":function onChange(t){e({"type":"select","payload":t.detail.value})},"handleStep":function handleStep(t,n,c){return fe(void 0,void 0,void 0,(0,o.Z)().mark((function _callee16(){var i;return(0,o.Z)().wrap((function _callee16$(o){for(;;)switch(o.prev=o.next){case 0:if(0!==n||"minus"!==c){o.next=2;break}return o.abrupt("return",void(0,_.Fu)("不能小于0","none"));case 2:i="plus"===c?++n:--n,e({"type":"update","payload":{"id":t,"count":i,"loading":!0}});case 4:case"end":return o.stop()}}),_callee16)})))}}},Ze=(0,_.dU)(),xe=function $e(e){var t=(0,b.useState)([]),n=(0,i.Z)(t,2),c=n[0],Z=n[1],C=(0,b.useState)(0),$=(0,i.Z)(C,2),G=$[0],R=$[1],E=(0,b.useRef)([]),F=he(),T=me(),q=T.select,J=T.id,V=T.count,U=(0,b.useMemo)((function(){var e=0,t=0;return c.forEach((function(n){q.includes(n.shoppingGoodsId+"")&&(e+=n.goodsCamount,t+=n.goodsCamount*n.pricesetNprice)})),{"num":e,"amount":t}}),[q,c]);(0,b.useEffect)((function(){fe(void 0,void 0,void 0,(0,o.Z)().mark((function _callee17(){return(0,o.Z)().wrap((function _callee17$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K("isFirst");case 2:case"end":return e.stop()}}),_callee17)})))}),[e]),(0,b.useEffect)((function(){J&&z(J,V)}),[J,V]);var z=function y(e,t){return fe(void 0,void 0,void 0,(0,o.Z)().mark((function _callee18(){return(0,o.Z)().wrap((function _callee18$(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,k.sT)({"shoppingGoodsId":e,"amount":t,"goodWeight":0});case 3:return n.next=5,K();case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),_callee18,null,[[0,7]])})))},K=function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return fe(void 0,void 0,void 0,(0,o.Z)().mark((function _callee19(){var t,n;return(0,o.Z)().wrap((function _callee19$(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,k.ts)({"isLocalMock":!Ze});case 2:t=c.sent,n=(0,S.Z)(t,"rows[0].shoppingpackageList[0]",{"shoppingGoodsList":[],"disMoney":0}),E.current=n.shoppingGoodsList.map((function(e){return e.shoppingGoodsId+""})),e&&F({"type":"select","payload":E.current}),F({"type":"update","payload":{"loading":!1}}),R(n.disMoney||0),Z(n.shoppingGoodsList);case 5:case"end":return c.stop()}}),_callee19)})))};return{"cartList":c,"initImpl":K,"disMoney":G,"amount":U,"selectAll":function selectAll(e){F({"type":"select","payload":e.detail.value.includes("true")?E.current:[]})},"allCart":E,"toOrderImpl":function toOrderImpl(){(0,_.Ct)("".concat(ce.confirm,"?shoppingGoodsId=").concat(q.join(",")))},"select":q,"deleteCart":function deleteCart(){return fe(void 0,void 0,void 0,(0,o.Z)().mark((function _callee20(){return(0,o.Z)().wrap((function _callee20$(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,k.Ox)({"shoppingGoodsIdStr":JSON.stringify(q)});case 3:return e.next=5,K();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),_callee20,null,[[0,7]])})))}}},ye=function Re(){var e=(0,b.useState)(1),t=(0,i.Z)(e,2),n=t[0],c=t[1];return{"config":(0,b.useRef)([{"id":1,"label":"未使用"},{"id":2,"label":"已使用"},{"id":3,"label":"已失效"}]),"coe":n,"setCoe":c}};function Je(e){var t=(0,b.useRef)(null);return t.current=(0,G.Z)(e)?e:R.Z,(0,b.useCallback)((function(){return t.current.apply(t,arguments)}),[t])}var we=function _e(e,t,n){var c=(0,b.useRef)(!0),Z=(0,b.useRef)(0),_=(0,b.useState)([]),S=(0,i.Z)(_,2),C=S[0],G=S[1],R=(0,b.useState)(!1),E=(0,i.Z)(R,2),F=E[0],T=E[1];(0,b.useEffect)((function(){q()}),[n]);var q=Je((function(){Z.current=0,c.current=!0,G([]),J(n)})),J=Je((function(n){var i=n.sortField,b=void 0===i?"pricesetNprice":i,_=n.order,S=void 0===_?"":_;return fe(void 0,void 0,void 0,(0,o.Z)().mark((function _callee30(){var n;return(0,o.Z)().wrap((function _callee30$(o){for(;;)switch(o.prev=o.next){case 0:if(!c.current){o.next=12;break}return++Z.current,T(!0),o.prev=2,o.next=5,(0,k.sE)({"distinctField":"goodsNo","sortField":b,"order":S,"goodsType":"00,50","page":Z.current,"rows":10,"searchParam":t,"classtreeCode":e});case 5:n=o.sent,((0,$.Z)(n.list)||n.list.length<10)&&(c.current=!1),T(!1),G((function(e){return e.concat(n.list)})),o.next=12;break;case 9:o.prev=9,o.t0=o.catch(2),--Z.current;case 12:case"end":return o.stop()}}),_callee30,null,[[2,9]])})))}));return{"loading":F,"getData":J,"list":C}};function qe(e){var t=this,n=(0,b.useState)(!1),c=(0,i.Z)(n,2),Z=c[0],S=c[1],C=(0,b.useRef)(""),$=(0,_.dU)(),G=(0,b.useState)([]),R=(0,i.Z)(G,2),E=R[0],F=R[1],T=(0,b.useRef)({}),q=(0,b.useRef)({"dataBmoney":"","contractBillcode":""});(0,b.useEffect)((function(){fe(t,void 0,void 0,(0,o.Z)().mark((function _callee31(){var t,n,c;return(0,o.Z)().wrap((function _callee31$(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,(0,k.IF)({"contractBillcode":e,"isLocalMock":!$});case 3:return n=o.sent,q.current=n.dataObj,o.next=7,(0,k.MO)({"contractBillcode":null!==(t=q.current.contractBillcode)&&void 0!==t?t:"","isLocalMock":!$});case 7:c=o.sent,F(c.payChannelList),T.current=c,o.next=14;break;case 11:o.prev=11,o.t0=o.catch(0),console.log(o.t0);case 14:case"end":return o.stop()}}),_callee31,null,[[0,11]])})))}),[]);var J=function p(e,t){return e.find((function(e){return e.fchannelCode===t}))||{}},V=function m(){return fe(t,void 0,void 0,(0,o.Z)().mark((function _callee32(){var e,t,n,c,i,Z,b,$;return(0,o.Z)().wrap((function _callee32$(o){for(;;)switch(o.prev=o.next){case 0:return t=null!==(e=q.current.contractBillcode)&&void 0!==e?e:"",(0,_.po)("contractBillcode",{"contractBillcode":t}),n=function(){S(!0);var e=T.current,t=e.ptradeSeqno,n=e.contractBlance,c=e.payChannelList,o=J(c,C.current),i=o.fchannelCode,Z=o.faccountOuterNo;return{"ptradeSeqno":t,"contractBlance":n,"fchannelCode":i,"faccountOuterNo":void 0===Z?"":Z}}(),c=n.ptradeSeqno,i=n.contractBlance,Z=n.fchannelCode,b=n.faccountOuterNo,$=[{"faccountIdType":"ACCOUNT","fchannelCode":Z,"orderAmount":q.current.dataBmoney,"faccountId":b}],o.next=5,(0,k.J8)({"ptradeSeqno":c,"payCommitStr":JSON.stringify($),"contractBlance":i});case 5:return o.abrupt("return",o.sent);case 6:case"end":return o.stop()}}),_callee32)})))};return{"paymentImpl":function paymentImpl(){switch(C.current||(0,_.Fu)("请选择支付方式","none"),C.current){case"wechatmini":!function v(){fe(t,void 0,void 0,(0,o.Z)().mark((function _callee35(){var e;return(0,o.Z)().wrap((function _callee35$(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,V();case 3:e=t.sent.dataObj.requestData,wx.requestPayment({"timeStamp":e.timeStamp,"nonceStr":e.nonceStr,"package":e.package,"signType":e.signType,"paySign":e.paySign,"success":function success(e){var t,n=null!==(t=q.current.contractBillcode)&&void 0!==t?t:"";(0,_.Ct)("".concat(ce.result,"?code=").concat(n))},"fail":function fail(e){S(!1)},"complete":function complete(e){S(!1)}}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),S(!1);case 10:case"end":return t.stop()}}),_callee35,null,[[0,7]])})))}();break;case"wechatwap":!function y(){fe(t,void 0,void 0,(0,o.Z)().mark((function _callee34(){var e;return(0,o.Z)().wrap((function _callee34$(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,V();case 3:e=t.sent,document.getElementById("v_html").innerHTML="<div>"+e.dataObj.htmlStr+"</div>",document.getElementById("paaspaysubmit").submit(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),S(!1);case 10:case"end":return t.stop()}}),_callee34,null,[[0,7]])})))}();break;case"alipaywap":!function g(){fe(t,void 0,void 0,(0,o.Z)().mark((function _callee33(){var e;return(0,o.Z)().wrap((function _callee33$(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,V();case 3:e=t.sent,document.getElementById("v_html").innerHTML="<div>"+e.dataObj.htmlStr+"</div>",document.forms[0].submit(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),S(!1);case 10:case"end":return t.stop()}}),_callee33,null,[[0,7]])})))}()}},"channelList":E,"handleRadio":function handleRadio(e){C.current=e.detail.value},"contract":q,"loading":Z}}var Ne={"provinceName":"","cityName":"","areaName":"","addressDetail":"","addressMember":"","addressPhone":"","addressDefault":""},Oe={"contractSettlOpno":0,"promotionCodes":null,"shoppingCountPrice":0,"totalDiscountPrice":0,"accountsSumPrice":0,"discount":0,"freight":0,"comDisMoney":0,"copyComDisMoney":0};function Ke(e,t,n){var Z=this,S=e.skuId,C=e.goodsNum,G=e.shoppingGoodsId,R=(0,b.useRef)([{"dataPic":"","goodsName":"","goodsCamount":0,"skuName":"","pricesetNprice":0}]),E=(0,b.useState)([]),F=(0,i.Z)(E,2),T=F[0],q=F[1],J=(0,b.useState)(Ne),V=(0,i.Z)(J,2),z=V[0],K=V[1],H=(0,b.useRef)(""),Q=(0,b.useRef)([]),Y=(0,b.useRef)([]),W=(0,b.useRef)([]),X=(0,b.useState)(0),ee=(0,i.Z)(X,2),te=ee[0],ne=ee[1],oe=(0,_.dU)(),se=(0,b.useRef)(Oe),ue=(0,b.useRef)([]);(0,b.useEffect)((function(){fe(Z,void 0,void 0,(0,o.Z)().mark((function _callee36(){return(0,o.Z)().wrap((function _callee36$(e){for(;;)switch(e.prev=e.next){case 0:if(ne(0),se.current={"contractSettlOpno":0,"promotionCodes":null,"shoppingCountPrice":0,"totalDiscountPrice":0,"accountsSumPrice":0,"discount":0,"freight":0,"comDisMoney":0,"copyComDisMoney":0},Y.current=[],Q.current=[],!G){e.next=9;break}return e.next=7,ie((function(){return(0,k.KQ)({"shoppingGoodsIdStr":"[".concat(G,"]")})}));case 7:e.next=11;break;case 9:return e.next=11,ie((function(){return re(S,C)}));case 11:case"end":return e.stop()}}),_callee36)})))}),[t]);var ie=function O(e){return fe(Z,void 0,void 0,(0,o.Z)().mark((function _callee38(){var t,c,Z,b,_,S;return(0,o.Z)().wrap((function _callee38$(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Promise.all([(0,k.d1)({"isLocalMock":!oe}),e()]);case 2:t=o.sent,c=(0,i.Z)(t,2),Z=c[0],b=void 0===Z?[]:Z,_=c[1],S=n?b.find((function(e){return e.addressId===n})):b.find((function(e){return"1"===e.addressDefault}))||{},K(S),le(_,S),n="";case 9:case"end":return o.stop()}}),_callee38)})))},le=function L(e,t){e.forEach((function(e){e.shoppingpackageList.forEach((function(e){se.current.comDisMoney+=e.disMoney,se.current.copyComDisMoney+=e.disMoney,e.shoppingGoodsList.forEach((function(t){Y.current.push(t),se.current.shoppingCountPrice+=t.pricesetNprice*t.goodsCamount,t.contractGoodsGtype=0,H.current=e.promotionCode,"00"==t.goodsType&&(0,k.bj)().then((function(e){}))})),e.disMoney>0&&Q.current.push({"contractSettlBlance":0==e.promotionInType?"PM":"COP","contractPmode":"0","contractSettlGmoney":Number(e.disMoney.toFixed(2)),"contractSettlPmoney":Number(e.disMoney.toFixed(2)),"contractSettlOpno":e.promotionCode,"contractSettlOpemo":e.promotionName}),e.giftList?(e.shoppingGoodsList.forEach((function(e){e.ginfoCode=e.pmPromotionList.find((function(e){return"0001"==e.pbCode})).promotionCode})),R.current=[].concat((0,c.Z)(e.shoppingGoodsList),(0,c.Z)(e.giftList))):R.current=e.shoppingGoodsList})),de(),oe&&(ve(),function N(){fe(Z,void 0,void 0,(0,o.Z)().mark((function _callee37(){var e;return(0,o.Z)().wrap((function _callee37$(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,k.f2)({"pmContractGoodsDomainListStr":JSON.stringify(Y.current)});case 3:e=t.sent,q(e),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(74,t.t0);case 10:case"end":return t.stop()}}),_callee37,null,[[0,7]])})))}(),ge(t))}))},de=function I(){var e=se.current,t=(e.shoppingCountPrice-e.totalDiscountPrice-e.discount-e.comDisMoney+e.freight).toFixed(2);ne(t)},ve=function P(){return fe(Z,void 0,void 0,(0,o.Z)().mark((function _callee39(){var e,t;return(0,o.Z)().wrap((function _callee39$(n){for(;;)switch(n.prev=n.next){case 0:return{},e=G?{"shoppingGoodsIdStr":"[".concat(G,"]")}:{"skuIdStr":JSON.stringify([{"skuId":S,"goodsNum":C}])},n.prev=2,n.next=5,(0,k.gh)(Object.assign(Object.assign({},e),{"areaCode":11e4}));case 5:t=n.sent,se.current.freight=t.dataObj,de(),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),console.log(180,n.t0);case 12:case"end":return n.stop()}}),_callee39,null,[[2,9]])})))},me=function D(){var e=se.current;return(e.shoppingCountPrice-e.copyComDisMoney-e.discount).toFixed(2)},he=function x(){var e=se.current;return(e.shoppingCountPrice-e.copyComDisMoney+e.freight).toFixed(2)},ge=function M(e){W.current=function(e){var t=e.addressMember,n=e.userName,c=e.provinceName,o=e.cityName,i=e.areaName,Z=e.addressDetail,b=e.areaCode;return[{"contractPaytime":(new Date).valueOf(),"goodsPbillno":0,"goodsPmbillno":se.current.promotionCodes,"contractProperty":"0","contractBlance":0,"contractPmode":0,"contractPumode":"0","goodsSupplierName":"","goodsSupplierCode":"","packageList":[{"contractGoodsList":R.current,"shoppingGoodsIdList":[],"promotionCode":H.current,"packageRemark":null}],"packageMode":"","contractType":"00","ocContractSettlList":[],"contractInmoney":he(),"contractMoney":me(),"goodsReceiptMem":t,"goodsReceiptPhone":n,"goodsReceiptArrdess":c+o+i+Z,"areaCode":b,"contractNbillcode":null,"skuIdList":S?[{"skuId":+S,"goodsNum":+C}]:[],"giftSkuIdList":[]}]}(e);var t={"rsSkuListStr":JSON.stringify(W.current)};ae(t).then((function(e){se.current.totalDiscountPrice=e.dataObj.totalDiscountPrice,se.current.contractSettlOpno=e.dataObj.contractSettlOpno,de()}))};return{"savePayPrice":function savePayPrice(){if(!(0,$.Z)(z)){(function(){var e=se.current,t=e.contractSettlOpno,n=e.totalDiscountPrice;t&&0!=n&&Q.current.push({"contractSettlBlance":"UR","contractPmode":"0","contractSettlPmoney":n,"contractSettlOpno":t})})(),U(W.current,"[0].ocContractSettlList",[].concat((0,c.Z)(Q.current),(0,c.Z)(ue.current)));var e={"orderDomainStr":JSON.stringify(W.current)};(0,k.xK)(e).then((function(e){(0,_.Ct)("".concat(ce.paymentMode,"?code=").concat(e.dataObj.contractBillcode))}))}},"address":z,"list":R,"payState":se,"coupon":T,"confirm":function confirm(e){var t=e.couponAmount,n=e.usercouponCode,c=e.promotionCode,o=e.discAmount;ue.current=[{"contractSettlBlance":"COP","contractPmode":"0","contractSettlGmoney":+t,"contractSettlPmoney":+o,"contractSettlOpno":n,"contractSettlOpemo":c}],se.current.discount=o,de()},"amount":te}}var De=Object.freeze({"__proto__":null,"useOrderResult":function useOrderResult(e){var t=this,n=(0,b.useState)({}),c=(0,i.Z)(n,2),Z=c[0],S=c[1],C=(0,_.dU)();return(0,b.useEffect)((function(){fe(t,void 0,void 0,(0,o.Z)().mark((function _callee40(){var t,n,c;return(0,o.Z)().wrap((function _callee40$(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,(0,k.B6)({"contractBillcode":e,"isLocalMock":!C});case 3:t=o.sent,n=t.sysRecode,c=t.dataObj,S({"sysRecode":n,"dataObj":void 0===c?{}:c}),o.next=13;break;case 10:o.prev=10,o.t0=o.catch(0),console.log(o.t0);case 13:case"end":return o.stop()}}),_callee40,null,[[0,10]])})))}),[]),{"result":Z}}});function Qe(e,t){var n=(0,b.useState)(e),c=(0,i.Z)(n,2),o=c[0],Z=c[1];return(0,b.useEffect)((function(){var n=t.filter((function(e){return!((0,z.Z)(e)||(0,$.Z)(e))})).filter((function(e){return!Object.values(e).every((function(t){return(0,z.Z)(t)||(0,$.Z)(e)}))})),c=e;(0,$.Z)(n)||(c=n),Z(c)}),[t]),o}var Be=[{"name":"全部","code":""},{"name":"待付款","code":"1"},{"name":"待发货","code":"2"},{"name":"待收货","code":"3"},{"name":"已完成","code":"4,5"},{"name":"已取消","code":"-1"}],Ae=function Ye(e){var t=Be.find((function(t){return t.code.includes(e+"")}))||{},n=t.name;return void 0===n?"":n},Ee={"1":[{"name":"取消订单","handler":"cancel"},{"name":"立即支付","handler":"pay"}],"3":[{"name":"物流信息","handler":"expressInfo"},{"name":"确认收货","handler":"confirmReceive"}],"4":[{"name":"去评价","handler":"evaluate"}],"5":[{"name":"已完成"}]};function et(e){var t=this,n=e.dataState,c=void 0===n?"":n,i=e.contractId,Z=e.contractBillcode,S=e.init,C=(0,b.useMemo)((function(){return Ee[c+""]||[]}),[c]),$={"expressInfo":function expressInfo(){(0,_.Ct)("".concat(ce.expressInfo,"?code=").concat(Z))},"pay":function pay(){(0,_.Ct)("".concat(ce.paymentMode,"?code=").concat(Z))},"evaluate":function evaluate(){(0,_.Ct)("".concat(ce.evaluateDetail,"?code=").concat(Z))},"confirmReceive":function confirmReceive(){return fe(t,void 0,void 0,(0,o.Z)().mark((function _callee41(){return(0,o.Z)().wrap((function _callee41$(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,k.TG)({"contractBillcode":Z});case 3:null==S||S(),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),_callee41,null,[[0,6]])})))},"cancel":function cancel(){return fe(t,void 0,void 0,(0,o.Z)().mark((function _callee42(){return(0,o.Z)().wrap((function _callee42$(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,k.E2)({"contractId":i});case 3:null==S||S(),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),_callee42,null,[[0,6]])})))}};return{"handlerImpl":function handlerImpl(e){$[e]()},"operateArray":C}}var Fe={"goodsList":[],"dataState":"","packageRemark":"","goodsReceiptMem":"","goodsReceiptPhone":"","goodsReceiptArrdess":"","dataBmoney":0,"goodsPmoney":0,"contractInmoney":0,"contractBillcode":"","refundMoney":0,"gmtCreate":"","goodsNum":0,"contractId":0},Te=function ot(e){var t=(0,b.useState)(""),n=(0,i.Z)(t,2),c=n[0],Z=n[1],S=(0,_.dU)(),C=(0,b.useState)(Fe),G=(0,i.Z)(C,2),R=G[0],E=G[1];return(0,b.useEffect)((function(){fe(void 0,void 0,void 0,(0,o.Z)().mark((function _callee43(){var t;return(0,o.Z)().wrap((function _callee43$(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,k.Mf)({"contractBillcode":e,"isLocalMock":!S});case 3:if(t=n.sent,!(0,$.Z)(t)){n.next=6;break}return n.abrupt("return");case 6:Z(Ae(t.dataState)),E(t),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(45,n.t0);case 12:case"end":return n.stop()}}),_callee43,null,[[0,9]])})))}),[]),{"orderDetail":R,"status":c}},Ve=function nt(e){var t=(0,b.useState)({}),n=(0,i.Z)(t,2),c=n[0],Z=n[1],_=(0,b.useState)({}),C=(0,i.Z)(_,2),$=C[0],G=C[1];return(0,b.useEffect)((function(){fe(void 0,void 0,void 0,(0,o.Z)().mark((function _callee44(){var t,n,c,i;return(0,o.Z)().wrap((function _callee44$(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,k.Mf)({"contractBillcode":e});case 2:return t=o.sent,Z(t),n=(0,S.Z)(t,"packageList[0].expressCode",""),c=(0,S.Z)(t,"packageList[0].packageBillno"),o.next=8,(0,k.an)({"expressNo":c,"expressType":n});case 8:i=o.sent,G(JSON.parse(i.dataObj));case 10:case"end":return o.stop()}}),_callee44)})))}),[]),{"info":c,"detail":$}};function ct(){var e=this,t=(0,b.useState)(""),n=(0,i.Z)(t,2),c=n[0],Z=n[1],C=(0,b.useState)([]),$=(0,i.Z)(C,2),G=$[0],R=$[1],E=(0,_.dU)();(0,b.useEffect)((function(){F()}),[]);var F=function d(){return fe(e,void 0,void 0,(0,o.Z)().mark((function _callee45(){var e,t;return(0,o.Z)().wrap((function _callee45$(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,k.N3)();case 3:e=n.sent,R(e||[]),t=(0,S.Z)(e,"[0].goodsClassCode"),Z(t),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}}),_callee45,null,[[0,9]])})))};return{"activeKey":c,"navList":G,"flag":E,"setActiveKey":Z}}var Ue=function it(){var e=(0,b.useState)([]),t=(0,i.Z)(e,2),n=t[0],c=t[1],Z=(0,b.useRef)(1),_=(0,b.useState)(!1),C=(0,i.Z)(_,2),$=C[0],G=C[1],R=(0,b.useState)(""),E=(0,i.Z)(R,2),F=E[0],T=E[1],q=(0,b.useState)(!1),J=(0,i.Z)(q,2),V=J[0],U=J[1],z=(0,b.useState)(""),K=(0,i.Z)(z,2),H=K[0],Q=K[1],Y=(0,b.useState)(!1),W=(0,i.Z)(Y,2),X=W[0],ee=W[1];(0,b.useEffect)((function(){te()}),[]);var te=function v(){Z.current=1,c([]),ne()},ne=function f(){return fe(void 0,void 0,void 0,(0,o.Z)().mark((function _callee46(){var e;return(0,o.Z)().wrap((function _callee46$(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,k.cF)({"row":10,"page":Z.current,"collectType":0});case 3:e=t.sent,c((function(t){return t.concat((0,S.Z)(e,"list",[]))})),Z.current+=1,t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",(console.log(t.t0),[]));case 10:case"end":return t.stop()}}),_callee46,null,[[0,7]])})))},re=function h(){for(var e=[],t=0;t<n.length;t++)e.push(n[t].collectCode);return e.toString()};return{"collectionList":n,"edit":$,"setEdit":G,"getData":ne,"collectCodeStr":F,"getSelectItem":function getSelectItem(e){var t=e.detail.value;T(t.toString()),t.length===n.length?ee(!0):(ee(!1),T(""))},"delItem":function delItem(){return fe(void 0,void 0,void 0,(0,o.Z)().mark((function _callee47(){return(0,o.Z)().wrap((function _callee47$(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,k.Jt)({"collectCodeStr":F});case 3:Z.current=1,te(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),_callee47,null,[[0,7]])})))},"init":te,"checked":V,"setChecked":U,"handleSelectAll":function handleSelectAll(e){e.detail.value.length?(U(!0),T(re())):U(!1)},"selectAll":H,"setSelectAll":Q,"selectAllChecked":X}},ze=function rt(e){var t=(0,b.useState)([]),n=(0,i.Z)(t,2),Z=n[0],C=n[1],$=(0,b.useRef)([]),G=(0,b.useRef)({}),R=(0,_.dU)();(0,b.useEffect)((function(){fe(void 0,void 0,void 0,(0,o.Z)().mark((function _callee48(){return(0,o.Z)().wrap((function _callee48$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return e.next=4,E();case 4:case"end":return e.stop()}}),_callee48)})))}),[]);var E=function s(){return fe(void 0,void 0,void 0,(0,o.Z)().mark((function _callee49(){var t,n,c,i,Z,b,_,$;return(0,o.Z)().wrap((function _callee49$(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,(0,k.Mf)({"contractBillcode":e,"isLocalMock":!R});case 3:t=o.sent,n=F((0,S.Z)(t,"goodsList",[])),c=n[0],i=c.contractBillcode,Z=c.memberBcode,b=c.memberBname,_=c.memberCode,$=c.memberName,G.current={"contractBillcode":i,"memberBcode":Z,"memberBname":b,"memberCode":_,"memberName":$},C(n),o.next=17;break;case 14:o.prev=14,o.t0=o.catch(0),console.log(o.t0);case 17:case"end":return o.stop()}}),_callee49,null,[[0,14]])})))},F=function l(e){for(var t=0;t<e.length;t++)e[t].upImgLength=!0,e[t].upImg=[],e[t].evaluateGoodsImgs="",e[t].evaluateScopeList=[$.current[0]],e[t].evaluateGoodsContent="";return e},T=function u(){return fe(void 0,void 0,void 0,(0,o.Z)().mark((function _callee50(){var e;return(0,o.Z)().wrap((function _callee50$(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,k.dG)({"applyTarget":"goods","isLocalMock":!R});case 3:e=t.sent,$.current=e[0].templateValuesReList,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),_callee50,null,[[0,7]])})))};return{"orderInfo":Z,"changeStar":function changeStar(e,t){for(var n=(0,c.Z)(Z),o=[],i=0;i<t;i++)o.push($.current[i]);n[e].evaluateScopeList=o,C(n)},"Submit":function Submit(){return fe(void 0,void 0,void 0,(0,o.Z)().mark((function _callee51(){return(0,o.Z)().wrap((function _callee51$(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,k.id)({"paramStr":JSON.stringify(Z)});case 3:return e.next=5,(0,k.kJ)(Object.assign({"paramStr":JSON.stringify(Z)},G.current));case 5:return e.next=7,(0,_.Ct)("".concat(ce.order));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),_callee51,null,[[0,9]])})))},"changeContent":function changeContent(e,t){var n=(0,c.Z)(Z);n[e].evaluateGoodsContent=t.detail.value,C(n)}}},He=function dt(){var e=(0,b.useState)([]),t=(0,i.Z)(e,2),n=t[0],c=t[1],Z=(0,b.useRef)(1),_=(0,b.useState)(!1),C=(0,i.Z)(_,2),$=C[0],G=C[1],R=(0,b.useState)(""),E=(0,i.Z)(R,2),F=E[0],T=E[1],q=(0,b.useState)(!1),J=(0,i.Z)(q,2),V=J[0],U=J[1],z=(0,b.useState)(""),K=(0,i.Z)(z,2),H=K[0],Q=K[1],Y=(0,b.useState)(!1),W=(0,i.Z)(Y,2),X=W[0];W[1];(0,b.useEffect)((function(){ee()}),[]);var ee=function v(){Z.current=1,c([]),te()},te=function f(){return fe(void 0,void 0,void 0,(0,o.Z)().mark((function _callee52(){var e;return(0,o.Z)().wrap((function _callee52$(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,k.WY)({"row":500,"page":Z.current});case 3:if(0!==(e=t.sent).length){t.next=6;break}return t.abrupt("return");case 6:c((0,S.Z)(e,"list",[])),t.next=12;break;case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",(console.log(t.t0),[]));case 12:case"end":return t.stop()}}),_callee52,null,[[0,9]])})))};return{"footprintList":n,"edit":$,"setEdit":G,"getData":te,"getSelectItem":function getSelectItem(e){var t=e.detail.value;console.log(43,t),T(t.toString())},"delItem":function delItem(){return fe(void 0,void 0,void 0,(0,o.Z)().mark((function _callee53(){return(0,o.Z)().wrap((function _callee53$(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,k.M7)({"footprintCodeStr":F});case 3:Z.current=1,ee(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),_callee53,null,[[0,7]])})))},"init":ee,"checked":V,"setChecked":U,"handleSelectAll":function handleSelectAll(e){e.detail.value.length?(U(!0),setCollectCodeStr(function h(){for(var e=[],t=0;t<collectionList.length;t++)e.push(collectionList[t].collectCode);return e.toString()}())):U(!1)},"selectAll":H,"setSelectAll":Q,"selectAllChecked":X}};function at(e){var t=this,n=(0,b.useState)([]),c=(0,i.Z)(n,2),Z=c[0],C=c[1];return(0,b.useEffect)((function(){fe(t,void 0,void 0,(0,o.Z)().mark((function _callee54(){var t,n;return(0,o.Z)().wrap((function _callee54$(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,(0,k.v3)({"page":1,"rows":e,"dataState":1});case 3:t=c.sent,n=(0,S.Z)(t,"list",[]),C(n),c.next=10;break;case 8:c.prev=8,c.t0=c.catch(0);case 10:case"end":return c.stop()}}),_callee54,null,[[0,8]])})))}),[e]),{"content":(0,b.useMemo)((function(){return Z.map((function(e){return e.noticeTitle}))}),[Z]),"navigator":function navigator(e){var t=(0,S.Z)(Z,"".concat(e,".noticeId"),"");(0,_.Ct)("".concat(ce.noticeDetail,"?noticeId=").concat(t))}}}function st(e){if(e)return e.includes("/pages/")?(0,_.Ef)(e):(0,_.Ct)(e)}}}]);